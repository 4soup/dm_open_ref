

<a name=/operator/&/pointer toc="&amp; operator (pointers)">
<h2 byondver=515>&amp; pointer operator</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/operator/*/prefix>* operator (pointers)</a>
<dd><a href=#/operator>operators</a>
<dd><a href=#/proc/ispointer>ispointer proc</a>
</dl>

<dl><dt><b>Format:</b>
<dd>&A
</dl>

<dl><dt><b>Returns:</b>
<dd>A pointer to the var or list item A.
</dl>

<p class="sidebar didyouknow">This operator is also called the reference operator,
since it creates a reference to a var that you can use elsewhere.)

<p>Sometimes it is desirable to have easy access to a var without knowing its
name, or send multiple items back from a proc. To do this, you can create a
pointer to that var. Then you can use the <tt>*</tt> operator to refer to the
value inside the pointer, or even to assign a value to it.

<h3>Example:</h3>
<xmp>
var/a=3, b=4
var/p = &a
world << *p   // same as world << a
*p = 5    // same as a = 5

var/list/L = list(1, 2, 3)
var/list/pl = &L[2]
*pl *= 10 // same as L[2] *= 10
</xmp>

<p>If you want the compiler to recognize that the item in your pointer var
should be a certain type, you can give the pointer var that same type. Hence
in the example above, <tt>pl</tt> is defined as a <tt>/list</tt>.

<p>You can also call procs this way. You can either wrap the pointer and the
<tt>*</tt> operator in paretheses, like <tt>(*p).MyProc()</tt>, or you can
skip the operator and just call <tt>p.MyProc()</tt> directly.

<p>The same also applies to the list index operator <tt>[]</tt>. If
<tt>p = &list</tt> then you can use <tt>(*p)[index]</tt> or <tt>p[index]</tt>
interchangeably.

<p>Pointers can be made for any of these kinds of vars:

<ul>
  <li>Vars belonging to an object</li>
  <li>Local vars in a proc, including <tt>src</tt>, <tt>usr</tt>, and the <tt>.</tt> var</li>
  <li>Arguments in a proc</li>
  <li>Global vars</li>
  <li>An item in a list, including values in <a href=#/list/associations>associative lists</a></li>
</ul>

<p>One advantage of pointers is that you can use them to alter a value in a
suspended (sleeping) proc.

<p>Note: When <a class=code href=#/proc/spawn>spawn()</a> is used, the current
proc is forked, where one keeps running and a copy is scheduled to run later.
If any pointers to proc vars were created, they belong to the original proc
(the one that keeps running), not to the fork.

