

<a name=/proc/list2params>
<h2>list2params proc</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/client/proc/Topic>Topic proc (client)</a>
<dd><a href=#/list/associations>list associations</a>
<dd><a href=#/world/var/params>params var (world)</a>
<dd><a href=#/proc/params2list>params2list proc</a>
<dd><a href=#/proc/text2num>text2num proc</a>
</dl>

<dl><dt><b>Format:</b>
<dd>list2params(List)
</dl>

<dl><dt><b>Args:</b>
<dd>List: List to encode as a text string.
</dl>

<p>This instruction converts a list of parameter names and associated values
into a single text string suitable for use in a URL or similar situation.
The format of the resulting text string is:

<xmp>
"name1=value1&name2=value2&..."
</xmp>

<p>Special characters such as '=' and '&amp;' inside the parameter names or
values are written in the form: <code>%xx</code> where <code>xx</code> are
two hexadecimal digits representing the ASCII value of the character. For
<a href=#/{notes}/Unicode>Unicode</a> characters, their UTF-8 encoding will
be processed this way, which may make up multiple <code>%xx</code> sequences.
In addition, spaces are converted to <tt>+</tt>.

<p>This parameter format is the same one used by most HTML forms and is
known by the MIME type <tt>application/x-www-form-urlencoded</tt>.  It is
often used in DM to pack information into topic links.

<p>The original list has items <tt>"name1"</tt>, <tt>"name2"</tt>, and so on.
These in turn are associated with the corresponding values <tt>"value1"</tt>,
<tt>"value2"</tt>, and so on.

<h3>Example:</h3>
<xmp>
var/plist[0]

plist["offense"] = "jwalk"
plist["time"] = "10:00"

usr << list2params(plist)
</xmp>

<p>The above example creates a simple parameter list which associates the
item "offense" with the value "jwalk" and the item "time" with the value
"10:00".  This will produce the text string "offense=jwalk&time=10:00".

<p>Object values in the list (like say a mob) get turned into references in
the parameter text, just as though you had embedded them with "\ref[Object]".
When read back in with params2list(), you could convert these values back into
real references by using locate().

