

<a name=/datum/proc/Topic>
<h2>Topic proc (datum)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/client/proc/Topic>Topic proc (client)</a>
<dd><a href=#/DM/text/macros/ref>ref text macro</a>
</dl>

<dl><dt><b>Format:</b>
<dd>Topic(href,href_list[])
</dl>

<dl><dt><b>Args:</b>
<dd>href: the hyperlink data (following ? in the URL).
<dd>href_list: key/value list (from params2list(href)).
</dl>

<p>This procedure is called by the default <tt>client.Topic()</tt> proc when
the href contains a parameter called "src" containing an object reference.

<h3>Example:</h3>
<xmp>
mob/verb/test()
   usr << "Click <a href='?src=\ref[src];action=startgame'>here</a>!"
mob/Topic(href,href_list[])
   switch(href_list["action"])
      if("startgame")
         usr << "Starting game..."
</xmp>

<p>The above example uses an embedded reference to the player's own mob to
create a hyperlink to that mob's <tt>Topic()</tt> proc.  You can easily add
different actions, parameters, and so forth.  Just remember that the parameter
values are always stored as text, so you need to convert those to whatever
data format you need using procedures such as <tt>text2num()</tt>,
<tt>locate()</tt>, etc.

<p class="note security">Always validate the input in <tt>Topic()</tt> calls
to make sure it's correct and the query you're recieving is legitimate.

