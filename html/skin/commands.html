

<a name=/{skin}/commands>
<h2>client commands</h2>

<p>Several commands can be executed on the client that are not verbs, but
instructions for Dream Seeker. Some of these commands have detailed syntax
described in their own reference entries.

<dl class=codedt>
<dt><a href=#/{skin}/commands/.winset>.winset</a></dt><dd>Sets skin parameters, and includes special syntax for conditional actions.</dd>
<dt byondver=514><a href=#/{skin}/commands/.output>.output</a></dt><dd>Sends output to a control.</dd>
<dt>.options</dt><dd>Shows the Options &amp; Messages box.</dd>
<dt>.reboot</dt><dd>Reboots the world, when Dream Seeker is also acting as a server.</dd>
<dt>.reconnect</dt><dd>Reconnects to the same world.</dd>
<dt>.host</dt><dd>Opens hosting options box, when Dream Seeker is also acting as a server.</dd>
<dt>.profile</dt><dd>Opens the profiler. On a remote connection you may not have access to profile server procs, but you can look at the client and network profilers.</dd>
<dt>.screenshot</dt><dd>Saves a screenshot of the map. If there's more than one map control, the default map is used.</dd>
<dt>.screenshot auto</dt><dd>Saves a screenshot of the map, but does not prompt for a filename. The file will be saved in the client's user directory in BYOND/screenshots.</dd>
<dt>.gamepad-mapping</dt><dd>Opens the gamepad mapping dialog. Helpful if the user's gamepad is not supported or not configured to their liking.</dd>
<dt>.command</dt><dd>Prompts the user to enter a command, which can be one of these commands as well.</dd>
<dt byondver=516><a href=#/{skin}/commands/sound>.sound</a></dt><dd>Play, stop, or update sound.</dd>
<dt>.configure <i>option</i> <i>value</i></dt><dd>Toggle certain Dream Seeker config options, such as <tt>.configure graphics-hwmode on</tt>. The only supported options you can use are <tt>graphics-hwmode</tt>, <tt>sound</tt>, and <tt>delay</tt> which is an old mechanism for dynamically adapting to network delay. (Usually the <tt>delay</tt> is reset to 0.)</dd>
<dt>.quit</dt><dd>Closes Dream Seeker.</dd>
</dl>

<h3>Embedded Winget</h3>

<p>Commands that are initiated by the skin (like button.command, map.on-show,
etc.) have a special syntax that allows you to include information that would
normally require a winget call. By including <tt>[[<i>something</i>]]</tt> in
the command, the double-bracketed text will be replaced by the result of
running a winget on that parameter.

<p>A value of <tt>[[id.parameter]]</tt> will run a winget on the control with
the given ID. Just using <tt>[[parameter]]</tt> will run a winget for the
control that initiated this command. You can also use <tt>parent</tt> in place
of the ID to do something with the parent of the control, or <tt>parent.id</tt>
for access to a sibling control. Position and size parameters can be further
broken down by appending <tt>.x</tt> or <tt>.y</tt> to get at the numbers
directly.

<p>Several commands already support some special cases like <tt>[[*]]</tt> or
<tt>[[width]]</tt> or such, where the special-case values are relevant to the
command. An example is that in <tt>on-size</tt> the value of <tt>[[*]]</tt> is
a size value. The Any macro, gamepad macros, and mouse macros, also support this
syntax; see <a href=#/{skin}/macros>macros</a> for more info.

<p>You can choose how embedded wingets get formatted by following the value with
<tt>as</tt> and a type, such as <tt>[[window.size as string]]</tt>. There are
several types you can use, and different types of parameters get formatted differently:

<dl class="codedt">
<dt>arg</dt><dd>Value is formatted as if it's an argument on a command line. Numbers are left alone; booleans are 0 or 1; size and position have their X and Y values separated by a space; pretty much everything else is DM-escaped and enclosed in quotes.</dd>
<dt>escaped</dt><dd>DM-escape the value as if it's in a quoted string but do not include the quotes. Size and position values both use <tt>,</tt> to separate their X and Y values.</dd>
<dt>string</dt><dd>Value is formatted as a DM-escaped string with surrounding quotes.</dd>
<dt>params</dt><dd>Format value for a URL-encoded parameter list (see <a class=code href=#/proc/list2params>list2params</a>), escaping characters as needed.</dd>
<dt>json</dt><dd>JSON formatting. Numbers are left unchanged; size or position values are turned into objects with x and y items; boolean values are <tt>true</tt> or <tt>false</tt>.</dd>
<dt>json-dm</dt><dd>JSON formatting, but DM-escaped so it can be included in a quoted string. Quotes are not included.</dd>
<dt>raw</dt><dd>Does not change the value's text representation in any way; assumes it's already formatted correctly for the purpose. This is similar to <tt>as arg</tt> but does no escaping and no quotes.</dd>
</dl>

<p>The <tt>arg</tt> type is the default, unless the <tt>[[</tt><i>...</i><tt>]]</tt>
expression has double quotes on both sides, in which case <tt>escaped</tt> is the
default.

