

<a name=/atom/proc/New>
<h2>New proc (atom)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/datum/proc/New>New proc (datum)</a>
<dd><a href=#/proc/new>new proc</a>
</dl>

<dl><dt><b>Format:</b>
<dd>New(loc)
<dd><small>(supports <a href=#/proc/arguments/named>named arguments</a>)</small>
</dl>

<dl><dt><b>When:</b>
<dd>Called when the object is created.
</dl>

<dl><dt><b>Args:</b>
<dd>loc: The initial location.
</dl>

<dl><dt><b>Default action:</b>
<dd>None.
</dl>

<p>By the time New() is called, the object has already been created at the
specified location and all of its variables have been initialized.  You can
perform additional initialization by overriding this procedure.

<p>Since the initial location parameter passed to <code>new()</code> is
applied before New() is even called, there is some special handling of the
<var>loc</var> variable when using named arguments in a call.  Normally, if a
procedure is overridden, named arguments in a call are matched against those
in the the overridden definition.  In this case, however, the <var>loc</var>
parameter name is hard-coded.  Regardless of what you call the first argument
in your definition of New(), the initial location will be taken from the first
positional argument, or from the argument named <var>loc</var> if there are no
positional arguments.

<p>The following example does some extra initialization that is not possible
in the variable definition section, because it requires a runtime evaluation.
This is a common reason to use New().

<h3>Example:</h3>
<xmp>
mob
   var
      birthdate //time stamp
   New()
      birthdate = world.realtime
      return ..()
   verb/look()
      set src in view()
      usr << "[src] was born on [time2text(birthdate,"DD-MMM-YYYY")]."
</xmp>

