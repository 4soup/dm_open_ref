

<a name=/database/query/proc/Add>
<h2 byondver=506>Add proc (database query)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/database/query>database query datum</a>
<dd><a href=#/database/query/proc/Clear>Clear proc (database query)</a>
</dl>

<dl><dt><b>Format:</b>
<dd>Add(text, item1, item2, ...)
</dl>

<dl><dt><b>Args:</b>
<dd>text: Text to add to the query
<dd>item1, item2, etc.: Items that will replace question marks in text
</dl>

<p>Adds text to a database query. If this datum was already used to run a
query, Clear() will be called automatically.

<p>If your text includes question marks, they will be replaced with the other
items listed in the proc arguments. If that item is a string, quotes will be
put around it for the query text. Files in the cache (such as icons) will be
added as BLOB values.

<p>After the query has been built, call Execute() to run it.

<h3>Example:</h3>
<xmp>
var/database/db = new("mydb.db")
var/database/query/q = new
q.Add("INSERT INTO quests (name, quest, complete) VALUES (?,?,?)", usr.key, quest_name, 1)
q.Execute(db)
</xmp>

<p>In the example above, the query text might look like this:

<p><tt>INSERT INTO quests (name, quest, complete) VALUES ('Tom','Save the Dog',1)</tt>

