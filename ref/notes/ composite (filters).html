

<a name=/{notes}/filters/layer toc="Layering / composite (filters)">
<h2 byondver=513>Layering (composite) filter</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/atom/var/icon>icon var (atom)</a>
<dd><a href=#/atom/var/render_target>render_target var (atom)</a>
</dl>

<dl><dt>Format:</dt>
<dd>filter(type="layer", ...)</dd>
</dl>

<dl><dt>Args:</dt>
<dd>x: Horizontal offset of second image (defaults to 0)</dd>
<dd>y: Vertical offset of second image (defaults to 0)</dd>
<dd>icon: Icon to use as a second image</dd>
<dd>render_source: <tt>render_target</tt> to use as a second image</dd>
<dd>flags: <tt>FILTER_OVERLAY</tt> (default) or <tt>FILTER_UNDERLAY</tt></dd>
<dd>color: <a href=#/atom/var/color>Color</a> or color matrix to apply to second image</dd>
<dd>transform: <a href=#/atom/var/transform>Transform</a> to apply to second image</dd>
<dd>blend_mode: <a href=#/atom/var/blend_mode>Blend mode</a> to apply to the top image</dd>
</dl>

<p>Composites another image over or under this image. Using the
<tt>FILTER_OVERLAY</tt> flag, which is the default, puts the second image
on top of what's already here. <tt>FILTER_UNDERLAY</tt> puts it underneath.

<p>The <tt>x</tt> and <tt>y</tt> values can move the mask from its normal
position. By default, the second image is centered over the center of the
first.

<p>The <tt>color</tt>, <tt>transform</tt>, and <tt>blend_mode</tt> vars are
available for convenience. Because the bottom image is drawn over a blank
background, <tt>blend_mode</tt> is always applied to the top image. All of
the other vars apply to the second image being drawn.

<p>Note: Transforms use default bilinear scaling, since
<a class=code href=#/atom/var/appearance_flags>PIXEL_SCALE</a> is not
available here.</p>

<p>Note: Like most other filters, this filter is <b>not</b> taken into account
for mouse-hit purposes. Any layered icons will be strictly visual.

