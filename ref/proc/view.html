

<a name=/proc/view>
<h2>view proc</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/operator/%3c%3c/output>&lt;&lt; output operator</a>
<dd><a href=#/proc/hearers>hearers</a>
<dd><a href=#/proc/oview>oview proc</a>
<dd><a href=#/proc/range>range proc</a>
<dd><a href=#/mob/var/see_in_dark>see_in_dark var (mob)</a>
<dd><a href=#/mob/var/see_infrared>see_infrared var (mob)</a>
<dd><a href=#/mob/var/see_invisible>see_invisible var (mob)</a>
<dd><a href=#/mob/var/sight>sight var (mob)</a>
<dd><a href=#/client/var/view>view var (client)</a>
<dd><a href=#/world/var/view>view var (world)</a>
<dd><a href=#/proc/viewers>viewers</a>
</dl>

<dl><dt><b>Format:</b>
<dd>view(Dist=5,Center=usr)
</dl>

<dl><dt><b>Returns:</b>
<dd>A list of visible objects within Dist tiles of Center.
</dl>

<dl><dt><b>Args:</b>
<dd>Dist:   A number.
<dd>Center: An object on the map.
</dl>

<p>A Dist of 0 includes Center, the contents of Center (normally
usr.contents), its location (normally the turf a mob is standing on), and
any other contents of that location.  A value of 1 extends the region to the
neighboring squares on the map and so on.  Both arguments are optional and
may be passed in any order.

<p>The default range is actually controlled by the size of the map viewport
size, which is configured with <code>world.view</code>.  Since the default
value of that variable is 5, the default range is also 5.  You may use any
valid view size, so an explicit view size such as "11x17" is also valid.

<h3>Example:</h3>
<xmp>
view() << "to all in sight of [usr]"
view(src) << "to all in sight of [src]"
view(1,src.loc) << "to all within reach of [src]"
</xmp>

<p>Be aware of the following distinctions:

<xmp>
view(usr)         //objects that usr can see
view(usr.loc)     //objects visible from usr's position
view(usr.client)  //objects visible to player
</xmp>

<p>In many cases, the three different statements could produce the same
result, but they are not identical in general.  For example, the first
statement takes into account the visual capabilities of usr, which might
include such things as the ability to see in the dark or to see invisible
objects.

<p>The second statement, since it is from a non-mob would just do a plain
visibility calculation with no special visual capabilities.  In many cases,
you would want to use viewers() or hearers() instead.

<p>The third statement produces a list of visible objects as the player sees
things, which might be different than how the mob sees things if
<code>client.eye</code> and <code>client.mob</code> are different.

