<a name=/DM>
	<h2>DM language details</h2>
	
	<p>The DM (Dream Maker) language uses a syntax similar to C/C++ to build
	networked multi-user worlds.  This reference and the accompanying guide
	discuss the structure and function of DM.
	
	<p>This reference is arranged in sections:
	
	<ul>
	<li><b>The DM language:</b> The majority of the reference; items in this section can have top-level entries.</li>
	<li><b>Special notes:</b> Articles describing advanced features or concepts in more depth.</li>
	<li><b>User interface skins:</b> Anything related to creating custom UIs for your world.</li>
	<li><b>Appendix:</b> Additional reference informtation that might apply to multiple topics, e.g. regarding colors or HTML.</li>
	</ul>
	
	<p>You can filter the reference content by subject, which helps narrow down
	anything you might be looking for.
	
	<p>In various articles you may see notes or sidebar content:
	
	<table style="margin: 0 1em;">
	<colgroup><col style="width:40px; font-size: 20px; text-shadow: 0 0 3px white, 0 0 3px white" class=center /><col class=vcenter /></colgroup>
	<tr><td>&#x26a0;&#xfe0f;</td><td>Important note</td></tr>
	<tr><td>&#x1f512;&#xfe0f;</td><td>Security concerns</td></tr>
	<tr><td>&#x1f3c3;&#xfe0f;</td><td>Performance tip</td></tr>
	<tr><td>&#x1f44d;&#xfe0f;</td><td>Rule of thumb</td></tr>
	<tr><td>&#x1f3db;&#xfe0f;</td><td>Compatibility</td></tr>
	<tr><td>&#x1f4a1;&#xfe0f;</td><td>Did you know?</td></tr>
	<tr><td>&#x1f527;&#xfe0f;</td><td>Under the hood</td></tr>
	<tr><td>&#x1f995;&#xfe0f;</td><td>Deprecated feature</td></tr>
	<tr><td>&#x1f3b3;&#xfe0f;</td><td>Play area</td></tr>
	</table>
	
	<hr>
	
	<a name=/DM/cache>
	<h2>cache</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/define/FILE_DIR>FILE_DIR definition</a>
	<dd><a href=#/world/var/cache_lifespan>cache_lifespan var (world)</a>
	<dd><a href=#/proc/fcopy_rsc>fcopy_rsc proc</a>
	<dd><a href=#/proc/file>file proc</a>
	<dd><a href=#/DM/icon>icons</a>
	<dd><a href=#/DM/sound>sounds</a>
	</dl>
	
	<p>Files specified in single quotes are loaded (at compile time) into the
	world cache file (ending in <code>.rsc</code>).  These are referred to as
	resource files.  At runtime these files are downloaded by players into their
	<code>byond.rsc</code> file for future use.  With the appropriate verbs or
	through savefiles, players may also upload files into the world cache.
	
	<p>If a resource file is not used for a long time, it will be automatically
	removed from the cache file to save space.  If a cache file gets too bulky,
	however, you may manually delete it and start from scratch.
	
	<p>To make compilation faster and to make it easier to distribute code, the
	compiler will use an existing cache file if possible.  That means you could
	compile up a world, and send people the <code>.dm</code> and
	<code>.rsc</code> files without any need to package all the individual
	resource files.  It is also possible to include additional supplementary
	<code>.rsc</code> files by using the <code>#include</code> statement.
	
	<hr>
	
	<a name=/DM/comment>
	<h2>comment</h2>
	
	<p>Comments may be used to explain code.  They can also be used to turn off a
	line or block of code.  All text inside a comment is ignored by the compiler.
	
	<p>The single line comment begins with <code>//</code> and runs to the end of
	the line.
	
	<p>The multi-line comment begins with <code>/*</code> and runs until
	<code>*/</code>.
	
	<p>Multi-line comments may be nested.
	
	<h3>Example:</h3>
	<xmp>
	  // single line comment
	  /*
		 multi-line comment
	  */
	</xmp>
	
	<hr>
	
	<a name=/DM/garbage>
	<h2>garbage collection</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/proc/del>del proc</a>
	<dd><a href=#/world>world</a>
	<dd><a href=#/proc/refcount>refcount proc</a>
	</dl>
	
	<p>At runtime, data objects are garbage collected.  That means data which
	is no longer in use gets automatically deleted to free up system memory.
	This applies to text strings, lists, savefiles, datum objects, and so on.
	
	<p>The garbage collector works by using an efficient reference counting
	system.  Once an item is no longer referenced by any variable, it gets
	deleted.  For the most part, that frees you from having to think about memory
	allocation, which is wonderful, especially in the case of text strings, which
	tend to be allocated on the fly all over the place.
	
	<p>There are a couple provisos that you should note.  One is that circular
	references will never be deleted by the garbage collector.  By <em>circular
	reference</em>, I mean a pair of objects with variables that point to each
	other, or even an object with a variable that points to itself.  In rare
	cases, you may even depend on this behavior.  When you are done with such
	objects, you should either null out the circular reference, or you should
	forcibly destroy each object with the <code>del</code> instruction.
	
	<div class="sidebar underhood">
	<p>This is a quick list of things that count as references to an object:
	<ul>
	<li>Stored in a var</li>
	<li>An item in a <a href=#/list>list</a>, or <a href=#/list/associations>associated</a> with a list item</li>
	<li>Has a <a class=code href=#/datum/var/tag>tag</a>
	<li>Is on the map (always true for <a href=#/turf>turfs</a>)</li>
	<li>Inside another atom's <a class=code href=#/atom/var/contents>contents</a></li>
	<li>Inside an atom's <a class=code href=#/atom/var/vis_contents>vis_contents</a></li>
	<li>A temporary value in a still-running proc</li>
	<li>Is a <a href=#/mob>mob</a> with a <a class=code href=#/mob/var/key>key</a></li>
	<li>Is an <a href=#/image>image object</a> attached to an atom</li>
	</ul>
	<p><tt>del()</tt> will try to clear out the most obvious possible references
	first, and bail out when it's done, but if there are still references it will
	search everywhere for any references that remain.
	</div>
	
	<p>An object with running or sleeping procs is referenced by the
	<code>src</code> variable of those procs and will therefore not be thrown out.
	
	<p>Another note is that the <code>world.contents</code> list does not count as
	a reference.  Otherwise, <tt>/mob</tt> and <tt>/obj</tt> objects would never
	be deleted, which is not the case.  Note that objects which are contained by
	another object or which contain objects themselves <em>are</em> referenced and
	will not be deleted.  That means an object must be at <code>loc=null</code>
	with no contents and, of course, no other references anywhere in order to get
	deleted by the garbage collector.
	
	<p>Mobs with a non-empty <tt>key</tt> and all objects with non-empty
	<tt>tag</tt> are also immortal.
	
	<p>Turfs and areas do not currently get garbage collected.
	
	<p>When the world shuts down, all objects are destroyed, whether they are
	referenced or not.  You don't have to worry about system memory getting
	consumed by persistent objects.  That doesn't happen.
	
	<p>In general, people who do not like reference counting garbage collection
	should be happy that DM provides a <code>del</code> instruction, allowing you
	to take charge and delete things whether they are referenced or not.  Another
	nicety is that this automatically nulls out any existing references to the
	object, so you don't end up with dangling references to a deleted object,
	which can otherwise be a great source of instability and mysterious bugs.
	
	<hr>
	
	<a name=/DM/icon>
	<h2>icons</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/define/FILE_DIR>FILE_DIR definition</a>
	<dd><a href=#/DM/cache>cache</a>
	<dd><a href=#/proc/flick>flick proc</a>
	<dd><a href=#/icon>icon</a>
	<dd><a href=#/atom/var/icon>icon var (atom)</a>
	<dd><a href=#/atom/var/icon_state>icon_state var (atom)</a>
	<dd><a href=#/image>image objects</a>
	</dl>
	
	<p>An icon file may be referenced by putting single quotes around the
	filename.  The file extension determines the type of icon.  Currently
	supported icon types are <code>.dmi</code>, <code>.bmp</code>, <code>.png</code>,
	<code>.jpg</code>, and <code>.gif</code>.  To create dmi icons, use the Dream
	Maker icon editor.  This allows you to make animations, 4 or 8 directional icons,
	and icons with different states (such as "live" and "dead").
	
	<h3>Example:</h3>
	<xmp>
	  mob
		icon = 'monster.dmi'
	</xmp>
	
	<p>You can also load icons into memory at run-time and manipulate the
	graphical data to produce new icons dynamically.  This is done by creating an
	<a href=#/icon>/icon</a> object.
	
	<hr>
	
	<a name=/DM/icon/arithmetic>
	<h2>icon arithmetic</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/proc/icon>icon proc</a>
	<dd><a href=#/proc/icon_states>icon_states proc</a>
	<dd><a href=#/DM/icon>icons</a>
	<dd><a href=#/proc/rgb>rgb proc</a>
	<dd><a href=#/proc/turn/icon>turn proc (applied to an icon)</a>
	<dd><a href=#/icon>icon object</a>
	</dl>
	
	<p class=performance>Note: The following "arithmetical" methods of icon
	manipulation are being phased out in favor of the
	<a class=code href=#/icon> /icon</a> object, which can be directly manipulated
	and which provides a wider variety of operations. Many of those in turn have
	been obviated by the <a class=code href=#/atom/var/color>color</a> and
	<a class=code href=#/atom/var/transform>transform</a> vars.
	
	<p>There are several ways in which icons can be manipulated at runtime.
	They can be rotated, added together, and the colors components may be
	altered.
	
	<p>One purpose for such operations is to make players look different.  Other
	interesting uses (and abuses) will undoubtedly follow.
	
	<h3>Addition and Subtraction</h3>
	
	<p>The result of adding two icons is an arithmetic combination of the color
	components of each individual pixel.  At positions where either icon is
	transparent, the result is also transparent.  Subtraction, instead of
	increasing the intensity, decreases it by the amount in each pixel of the
	icon being subtracted.
	
	<p>Suppose you wanted to add together different bodies and heads.  You could
	do that by making a few of each type with black backgrounds.  When these add
	together, the black contributes nothing but prevents pixels in the other
	icon from getting clipped.
	
	<h3>Example:</h3>
	<xmp>
	mob/verb
	   addicon(I as icon)
		  icon += I
	   subicon(I as icon)
		  icon -= I
	</xmp>
	
	<p>If you need to add the same color to every pixel, you can do so using a
	color value.  Color values have the same format as in HTML: "#RRGGBB" with
	two hexadecimal digits for each color component.  That gives you a range in
	color from 0 to FF (which is 255 in decimal).
	
	<p>You can also specify a color value as "#RGB".  The single digit is
	automatically repeated, so "#F00" is the same as "#FF0000", which is bright
	red.  For certain pre-defined color values, you can also specify a name,
	such as "red".  See <a href=#/{{appendix}}/html-colors>HTML colors</a> for a
	list of color names.
	
	<p>If you prefer base 10, you can create color values with the rgb(R,G,B)
	instruction.  Each parameter is in the range 0 to 255.
	
	<h3>Multiplication</h3>
	
	<p>To increase (or decrease) the intensity of an icon multiplicatively, you
	can use the '<code>*</code>' operator.
	
	<h3>Example:</h3>
	<xmp>
	mob/verb/multicon(factor as num)
	   icon *= factor
	</xmp>
	
	<hr>
	
	<a name=/DM/mouse toc="mouse handling">
	<h2>mouse handling</h2>
	
	<p>Various mouse actions may be handled by defining procedures either on the
	client object or on the atomic object being manipulated.  Any of the following
	procedures may be defined:
	
	<ul>
	<li><a href=#/client/proc/MouseDown>MouseDown()</a>
	<li><a href=#/client/proc/MouseUp>MouseUp()</a>
	<li><a href=#/client/proc/MouseDrag>MouseDrag()</a>
	<li><a href=#/client/proc/MouseDrop>MouseDrop()</a>
	<li><a href=#/client/proc/MouseEntered>MouseEntered()</a>
	<li><a href=#/client/proc/MouseExited>MouseExited()</a>
	<li><a href=#/client/proc/MouseMove>MouseMove</a>
	<li><a href=#/client/proc/MouseWheel>MouseWheel</a>
	<li><a href=#/client/proc/Click>Click()</a>
	<li><a href=#/client/proc/DblClick>DblClick()</a>
	</ul>
	
	<p>In general, define only the procedures you need, because extra
	communication overhead may be avoided when the compiler detects that you do
	not care about certain events.
	
	<p>The arguments used in mouse procs generally follow one of these forms:
	
	<dl>
	<dt>For Click(), DblClick(), MouseDown(), MouseUp(), MouseEntered(), MouseExited(), and MouseMove():</dt>
	  <dd>client/Click(object, location, control, params)<br/>
	  atom/Click(location, control, params)</dd>
	<dt>For MouseDrag() and MouseDrop():</dt>
	  <dd>client/MouseDrag(src_object, over_object, src_location, over_location, src_control, over_control, params)<br/>
	  atom/MouseDrag(over_object, src_location, over_location, src_control, over_control, params)</dd>
	<dt>For MouseWheel():</dt>
	  <dd>client/MouseWheel(object, delta_x, delta_y, location, control, params)<br/>
	  atom/MouseWheel(delta_x, delta_y, location, control, params)</dd>
	</dl>
	
	<p>The <tt>location</tt> argument varies with the type of control. For the map, it
	will be the turf where the mouse action happened. For info controls (statpanels),
	it will be the name of the statpanel where the action happened. For grid controls,
	it will be the cell where the action happened. For others controls it may vary,
	but most will leave this blank.
	
	<p>The <tt>control</tt> argument is the ID of the skin control where the
	action happened, such as <tt>"mappane.map"</tt> or <tt>"mainwindow.banner"</tt>.
	
	<p>The <tt>params</tt> argument is text, and can be converted to a list using
	<a class=code href=#/proc/params2list>params2list()</a>. It may contain any of
	the following properties, which will only be set if they are used:
	
	<ul>
	<li>icon-x, icon-y: Pixel coordinates within the icon, in the icon's coordinate space
	<li>screen-loc: Pixel coordinates in screen_loc format ("[tile_x]:[pixel_x],[tile_y]:[pixel_y]")
	<li>left, middle, right: Mouse buttons pressed, held, or released in this action (see compatibility note below)
	<li byondver=514>button: Mouse button pressed or released in this action (see compatibility note below)
	<li>ctrl, shift, alt: Keys held down during the mouse action
	<li>drag-cell, drop-cell: Cells involved if using a Grid control
	<li>drag: The button used for dragging (only sent for unrelated mouse up/down messages during a drag)
	<li>link: If the mouse is over a link in maptext, or this event is related to clicking such a link
	<li>vis-x, vis-y: Pixel coordinates relative to the icon's position on screen
	</ul>
	
	<p>The icon-x/y coordinates are integers, and try to point to the actual
	pixel in the icon before any atom transforms are done; i.e. if the icon
	were scaled up to 3 times its size using the transform var, then a
	3&times;3 region of pixels would all have the same icon-x/y values. The lower
	left pixel of the icon is 1,1. The vis-x/y parameters are screen-based, and
	their origin (1,1) is wherever the lower left corner of the icon is rendered.
	
	<p>Note: vis-x/y will not be included in the parameters if they are the same
	as icon-x/y.
	
	<p>If the mouse is over an overlay, icon-x/y and vis-x/y are relative to the
	parent object, not the overlay icon itself, so it's possible to have value
	outside of the normal range of 1,1 to [width],[height].
	
	<p>The mouse pointer may be customized as well.  The following variables all
	deal with the appearance of the pointer.  They do not control what actions may
	be taken by the user, but they provide hints to the user about what actions
	may work.
	
	<ul>
	<li><a href=#/client/var/mouse_pointer_icon>mouse_pointer_icon</a>
	<li><a href=#/atom/var/mouse_over_pointer>mouse_over_pointer</a>
	<li><a href=#/atom/var/mouse_drag_pointer>mouse_drag_pointer</a>
	<li><a href=#/atom/var/mouse_drop_pointer>mouse_drop_pointer</a>
	<li><a href=#/atom/var/mouse_drop_zone>mouse_drop_zone</a>
	<li><a href=#/atom/var/mouse_opacity>mouse_opacity</a>
	</ul>
	
	<p>When selecting a mouse pointer, you may provide your own custom icon or use
	one of the <a href=#/DM/mouse/pointers>built-in pointers</a>.
	
	<p class=compatibility>Note: Older games compiled prior to BYOND 4.0 had a
	different format for the <tt>MouseDown()</tt> and <tt>MouseUp()</tt> procs.
	These used <tt>icon_x</tt> and <tt>icon_y</tt> as arguments, but
	<tt>control</tt> and <tt>params</tt> have replaced them.
	
	<p class=compatibility>Note: Games compiled before version 514 did not have
	the <tt>button</tt> parameter, so they handled the <tt>left</tt>,
	<tt>middle</tt>, and <tt>right</tt> parameters differently. In old versions,
	only the button used in the action (left, middle, right) was included as a
	parameter; now all buttons being held or changed are included, and
	<tt>button</tt> is the mouse button that changed.
	
	<hr>
	
	<a name=/DM/mouse/pointers>
	<h2>mouse pointers</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/mouse>mouse handling</a>
	<dd><a href=#/atom/var/mouse_drag_pointer>mouse_drag_pointer var (atom)</a>
	<dd><a href=#/atom/var/mouse_drop_pointer>mouse_drop_pointer var (atom)</a>
	<dd><a href=#/atom/var/mouse_drop_zone>mouse_drop_zone var (atom)</a>
	<dd><a href=#/atom/var/mouse_opacity>mouse_opacity var (atom)</a>
	<dd><a href=#/atom/var/mouse_over_pointer>mouse_over_pointer var (atom)</a>
	<dd><a href=#/client/var/mouse_pointer_icon>mouse_pointer_icon var (client)</a>
	</dl>
	
	<p>The following mouse pointers are built-in and may be assigned to any of the
	mouse pointer variables.  Of course, you can also define your own custom mouse
	pointers using an icon file.
	
	<dl>
	<dt>MOUSE_INACTIVE_POINTER (0)
	<dt>MOUSE_ACTIVE_POINTER (1)
	<dt>MOUSE_DRAG_POINTER
	<dd>Same as mouse_drag_pointer = MOUSE_ACTIVE_POINTER.
	<dt>MOUSE_DROP_POINTER
	<dd>Same as mouse_drop_pointer = MOUSE_ACTIVE_POINTER.
	<dt>MOUSE_ARROW_POINTER
	<dd>Same as mouse_over_pointer = MOUSE_INACTIVE_POINTER.
	<dt>MOUSE_CROSSHAIRS_POINTER
	<dd>Same as mouse_over_pointer = MOUSE_ACTIVE_POINTER.
	<dt>MOUSE_HAND_POINTER
	</dl>
	
	<hr>
	
	<a name=/DM/null>
	<h2>null</h2>
	
	<p>Variables that are not initialized have the value null.  This value is
	distinct from 0 and "".  If you compare it to these, using the <code>==</code>
	operator, it is not equal.  However, in a numeric context (like a mathematical
	operation), null evaluates to 0 and in a text context (like insertion into a
	text expression), null evaluates to "".  In a logical expression, null, 0, and
	"" evaluate to false and all other values are true.
	
	<p>In an embedded text expression, null behaves like "".  That means, if you
	are expecting a variable to display a 0, you should explicitly initialize it
	to 0 rather than leaving it as null.
	
	<hr>
	
	<a name=/DM/preprocessor>
	<h2>preprocessor</h2>
	
	<p>The preprocessor performs various transformations on source code as the DM
	compiler reads the file.  It may be used to define macros&mdash;that is words
	which are replaced by other fragments of code.  It is also possible to insert
	other source code files and to conditionally compile or not compile sections
	of code.
	
	<p>Preprocessor commands are called directives.  They are placed on a line by
	themselves and always begin with a hash symbol <code>#</code>.  The
	preprocessor directives recognized by DM are the same as standard C compilers:
	
	<code><pre>
	<a href=#/DM/preprocessor/define>#define</a>
	<a href=#/DM/preprocessor/if>#if</a>
	<a href=#/DM/preprocessor/elif>#elif</a>
	<a href=#/DM/preprocessor/ifdef>#ifdef</a>
	<a href=#/DM/preprocessor/ifndef>#ifndef</a>
	<a href=#/DM/preprocessor/else>#else</a>
	<a href=#/DM/preprocessor/endif>#endif</a>
	<a href=#/DM/preprocessor/include>#include</a>
	<a href=#/DM/preprocessor/pragma>#pragma</a>
	<a href=#/DM/preprocessor/error>#error</a>
	<a href=#/DM/preprocessor/warn>#warn</a>
	</pre></code>
	
	<hr>
	
	<a name=/DM/preprocessor/DM_BUILD>
	<h2>DM_BUILD macro</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/world/var/byond_build>byond_build var (world)</a>
	<dd><a href=#/client/var/byond_build>byond_build var (client)</a>
	<dd><a href=#/DM/preprocessor/DM_VERSION>DM_VERSION macro</a>
	<dd><a href=#/DM/preprocessor>preprocessor</a>
	</dl>
	
	<p>This macro indicates the minor version of the compiler, which is useful
	during BYOND beta testing. More often, you will want to use the
	<tt>DM_VERSION</tt> macro instead, which is the major version.
	
	<hr>
	
	<a name=/DM/preprocessor/DM_VERSION>
	<h2>DM_VERSION macro</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/world/var/byond_version>byond_version var (world)</a>
	<dd><a href=#/client/var/byond_version>byond_version var (client)</a>
	<dd><a href=#/DM/preprocessor/DM_BUILD>DM_BUILD macro</a>
	<dd><a href=#/DM/preprocessor>preprocessor</a>
	<dd><a href=#/DM/preprocessor/pragma/compatibility>#pragma compatibility directive</a>
	</dl>
	
	<p>This macro indicates the version of the compiler.  This could be useful when
	distributing code that uses new language features that would not compile in
	older compilers.
	
	<h3>Example:</h3>
	<xmp>
	#if DM_VERSION < 230
	#error This compiler is too far out of date!
	#endif
	</xmp>
	
	<p>If you use <tt>#pragma compatibility</tt>, it will alter the value of this
	macro (but never higher than the actual version being compiled). In this way
	you can alter your code's behavior based on the pragma.
	
	<hr>
	
	<a name=/DM/preprocessor/__FILE__>
	<h2>__FILE__ macro</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/proc/ASSERT>ASSERT proc</a>
	<dd><a href=#/DM/preprocessor/define/DEBUG>DEBUG definition</a>
	<dd><a href=#/DM/preprocessor/__LINE__>__LINE__ macro</a>
	<dd><a href=#/DM/preprocessor/__MAIN__>__MAIN__ macro</a>
	<dd><a href=#/DM/preprocessor/__PROC__>__PROC__ macro</a>
	<dd><a href=#/DM/preprocessor/__TYPE__>__TYPE__ macro</a>
	<dd><a href=#/DM/preprocessor/__IMPLIED_TYPE__>__IMPLIED_TYPE__ macro</a>
	</dl>
	
	<p>The __FILE__ macro expands to a string containing the name of the current
	source file.  This may be useful when generating debugging error messages.
	
	<hr>
	
	<a name=/DM/preprocessor/__IMPLIED_TYPE__>
	<h2 byondver=515>__IMPLIED_TYPE__ macro</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/__FILE__>__FILE__ macro</a>
	<dd><a href=#/DM/preprocessor/__LINE__>__LINE__ macro</a>
	<dd><a href=#/DM/preprocessor/__PROC__>__PROC__ macro</a>
	<dd><a href=#/DM/preprocessor/__TYPE__>__TYPE__ macro</a>
	<dd><a href=#/proc/new>new proc</a>
	<dd><a href=#/proc/locate>locate proc</a>
	<dd><a href=#/proc/istype>istype proc</a>
	</dl>
	
	<p>The <tt>__IMPLIED_TYPE__</tt> macro is replaced by a reference to the type
	path implied at the current point in compilation. For instance, when using the
	<a href=#/proc/new><tt>new</tt> proc</a> and assigning to a var, the type path
	for <tt>new()</tt> is implied by the var's type. Implied types are also
	automatically used in <a class=code href=#/proc/locate>locate()</a>, and are
	used by default for the second argument in
	<a class=code href=#/proc/istype>istype()</a>.
	
	<h3>Example:</h3>
	<xmp>
	proc/Factory(new_type)
		world.log << "Creating new [new_type]"
		return new new_type()
	
	proc/CreateThing()
		// pass /thing to Factory
		var/thing/T = Factory(__IMPLIED_TYPE__)
	</xmp>
	
	<p><tt>__IMPLIED_TYPE__</tt> is valid in the following situations:
	
	<ul>
	<li>In an expression on the right-hand side of an assignment operator (this includes operators like <tt>+=</tt>), where the left-hand side is a var that has a defined type path.
	<li>Within the second argument of <a class=code href=#/proc/istype>istype()</a>.</li>
	</ul>
	
	<p>This is actually a pseudo-macro; the preprocessor doesn't handle it
	directly.
	
	<hr>
	
	<a name=/DM/preprocessor/__LINE__>
	<h2>__LINE__ macro</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/proc/ASSERT>ASSERT proc</a>
	<dd><a href=#/DM/preprocessor/define/DEBUG>DEBUG definition</a>
	<dd><a href=#/DM/preprocessor/__FILE__>__FILE__ macro</a>
	<dd><a href=#/DM/preprocessor/__PROC__>__PROC__ macro</a>
	<dd><a href=#/DM/preprocessor/__TYPE__>__TYPE__ macro</a>
	<dd><a href=#/DM/preprocessor/__IMPLIED_TYPE__>__IMPLIED_TYPE__ macro</a>
	</dl>
	
	<p>The __LINE__ macro is replaced by the line number in the current source
	file.  This may be useful when generating debugging error messages.
	
	<hr>
	
	<a name=/DM/preprocessor/__MAIN__>
	<h2>__MAIN__ macro</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor>preprocessor</a>
	</dl>
	
	<p>The __MAIN__ macro is defined in the main <code>.dme</code> file being
	compiled.  In all other files included by this file, __MAIN__ is not defined.
	
	<p>The purpose of this is for library writers to package a small demo of their
	library directly in the library source code.  When users compile the library
	directly, the library's own <code>.dme</code> is the main file and can include
	extra files that are not normally part of the library.
	
	<h3>Example:</h3>
	<xmp>
	#ifdef __MAIN__
	#include "demo.dm"
	#include "demo.dmm"
	#endif
	</xmp>
	
	<p>If the demo requires a lot of extra resources, it is probably better to
	package the demo as a separate project.  Small demos, however, are nice and
	convenient using this "auto-demo" technique&mdash;especially since Dream
	Seeker automatically launches Dream Maker after installing a library
	containing a <code>.dme</code> file.
	
	<hr>
	
	<a name=/DM/preprocessor/__PROC__>
	<h2 byondver=515>__PROC__ macro</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/__FILE__>__FILE__ macro</a>
	<dd><a href=#/DM/preprocessor/__LINE__>__LINE__ macro</a>
	<dd><a href=#/DM/preprocessor/__TYPE__>__TYPE__ macro</a>
	<dd><a href=#/DM/preprocessor/__IMPLIED_TYPE__>__IMPLIED_TYPE__ macro</a>
	</dl>
	
	<p>The <tt>__PROC__</tt> macro is replaced by a reference to the current proc
	being compiled. This may be useful when generating debugging error messages,
	especially when wrapped in <tt>nameof</tt>, e.g. <tt>nameof(__PROC__)</tt>.
	
	<p>This is actually a pseudo-macro; the preprocessor doesn't handle it
	directly.
	
	<hr>
	
	<a name=/DM/preprocessor/__TYPE__>
	<h2 byondver=515>__TYPE__ macro</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/__FILE__>__FILE__ macro</a>
	<dd><a href=#/DM/preprocessor/__LINE__>__LINE__ macro</a>
	<dd><a href=#/DM/preprocessor/__PROC__>__PROC__ macro</a>
	<dd><a href=#/DM/preprocessor/__IMPLIED_TYPE__>__IMPLIED_TYPE__ macro</a>
	</dl>
	
	<p>The <tt>__TYPE__</tt> macro is replaced by a reference to the type path
	currently being compiled. This may be useful when generating debugging error
	messages. If used in a global proc, the value will be null.
	
	<p>This is actually a pseudo-macro; the preprocessor doesn't handle it
	directly.
	
	<hr>
	
	<a name=/DM/preprocessor/define>
	<h2>#define directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor>preprocessor</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#define Name Value
	<dd>#define Name(Parameters) Value
	</dl>
	
	<dl><dt><b>Args:</b>
	<dd>Name:  A macro definition.
	<dd>Value: The value to substitute for Name.
	<dd>Parameters:  Arguments to pass into the macro.
	</dl>
	
	<p>The #define statement creates a macro that is substituted for Name.
	Substitution only applies to whole words.  Text inside of double or single
	quotes is not processed for substitution, so <code>"This is BIG."</code> would
	not be modified even if a macro named BIG were defined.  That is different
	from <code>"This is [BIG]."</code>, where BIG is an embedded expression, which
	does get processed for macro substitution.
	
	<h3>Example:</h3>
	<xmp>
	#define DAY   0
	#define NIGHT 1
	var/daytime = NIGHT  //daytime = 1
	</xmp>
	
	<h3>Example:</h3>
	<xmp>
	#define SQR(X) ((X)*(X))
	var/x = SQR(2)       //x = ((2)*(2)) = 4
	</xmp>
	
	<p>Note that it's usually important to use parentheses around any arguments
	you use in a macro. Otherwise strange results may occur if you use an
	expression such as 2+3. In the SQR(X) example, if there were no parentheses
	around each X then the expansion of the macro would be (2+3*2+3). Since the *
	operator has a higher precedence than + the result is 11, not 25 as expected.
	It's equally important to put parentheses around the entire macro for the
	same reason.
	
	<h3>Variadic macros</h3>
	
	<p>The last parameter of a macro can end in <tt>...</tt> which means that it
	and all other arguments following it count as a single argument. This is
	called a variadic macro because it lets you use a variable number of
	arguments. The last parameter will also become optional.
	
	<h3>Example:</h3>
	<xmp>
	#define DEFAULT_LIST(n, items...) if(!n) n = list(items)
	</xmp>
	
	<h3><tt>#var</tt> to string</h3>
	
	<p>In a macro's body, if you precede a parameter by <tt>#</tt>, the
	replacement value will be turned into a string.  For instance, 2 would become
	"2".
	
	<h3>Example:</h3>
	<xmp>
	#define DEBUG_VAR(v) world.log << "[#v] = [v]"
	DEBUG_VAR(usr.x)    // world.log << "usr.x = [usr.x]"
	</xmp>
	
	<h3><tt>##var</tt> concatenation</h3>
	
	<p>A parameter preceded by <tt>##</tt> in the macro body is substituted
	directly, without any spaces. If you use this with the last argument in a
	variadic macro, any preceding spaces and a comma (if found) will be removed
	if the replacement is empty.
	
	<h3>Example:</h3>
	<xmp>
	#define MACROVAR(k) var/macro_state_##k
	// MACROVAR(right) becomes var/macro_state_right
	
	#define PREFIX_LIST(x, y...) list(x, src, ##y)
	// PREFIX_LIST(1, 2, 3) becomes list(1, src, 2, 3)
	// PREFIX_LIST(4) becomes list(4, src)
	</xmp>
	
	<h3><tt>n###var</tt> repeat</h3>
	
	<p>Using <tt>###</tt> in the macro body, preceded by a number, will repeat the
	replacement a certain number of times.
	
	<h3>Example:</h3>
	<xmp>
	#define SAYTWICE(t) 2###t
	#define TOTEXT(t) #t
	world << "[TOTEXT(SAYTWICE(hi))]"   // world << "hihi"
	</xmp>
	
	<hr>
	
	<a name=/DM/preprocessor/define/DEBUG>
	<h2>DEBUG definition</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/define>#define directive</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#define DEBUG
	</dl>
	
	<p>If <code>DEBUG</code> is defined, source file and line number information
	will be stored in the compiled <code>.dmb</code> file.  If a proc crashes
	during execution and <code>DEBUG</code> information is present, the current
	source file name and line number will be indicated in the error output.
	
	<p>This option increases the size of the <code>.dmb</code>, typically by about
	10%.  Execution of the code may also be a tiny bit slower.
	
	<p>If you are distributing the <code>.dmb</code> to players and you do not
	want them to have debug access at runtime, you should <em>not</em> compile in
	debug mode.
	
	<p>If you want to use the run-time profiler (see the debugging options in
	Dream Seeker), you must compile in debug mode.  Then you can get a report of
	CPU usage by your various procs.
	
	<hr>
	
	<a name=/DM/preprocessor/define/FILE_DIR>
	<h2>FILE_DIR definition</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/cache>cache</a>
	<dd><a href=#/DM/icon>icons</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#define FILE_DIR Path
	</dl>
	
	<dl><dt><b>Args:</b>
	<dd>Path: A search path on the current filesystem.
	</dl>
	
	<p>This macro defines a search path to be used in evaluating resource files
	(icons and sounds).  First the current directory is searched, then the first
	<code>FILE_DIR</code> path, then the next, etc.
	
	<h3>Example:</h3>
	<xmp>
	#define FILE_DIR icons
	#define FILE_DIR icons/mobs
	
	mob/clown
	  icon = 'clown.dmi'
	</xmp>
	
	<p>This searches for the file at the paths <code>"./clown.dmi"</code>,
	<code>"./icons/clown.dmi"</code>, and <code>"./icons/sounds/clown.dmi"</code>,
	where <code>"."</code> is the directory of the current source file.
	
	<hr>
	
	<a name=/DM/preprocessor/elif>
	<h2>#elif directive</h2>
	
	<dl><dt><b>See:</b>
	<dd><a href=#/DM/preprocessor/if>#if directive</a>
	</dl>
	
	<hr>
	
	<a name=/DM/preprocessor/else>
	<h2>#else directive</h2>
	
	<dl><dt><b>See:</b>
	<dd><a href=#/DM/preprocessor/if>#if directive</a>
	</dl>
	
	<hr>
	
	<a name=/DM/preprocessor/endif>
	<h2>#endif directive</h2>
	
	<dl><dt><b>See:</b>
	<dd><a href=#/DM/preprocessor/if>#if directive</a>
	</dl>
	
	<hr>
	
	<a name=/DM/preprocessor/error>
	<h2>#error directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor>preprocessor</a>
	<dd><a href=#/DM/preprocessor/warn>#warn directive</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#error Text
	</dl>
	
	<dl><dt><b>Args:</b>
	<dd>Text: an error message to display
	</dl>
	
	<p>The #error directive halts compilation and displays the specified message.
	
	<h3>Example:</h3>
	<xmp>
	#if DM_VERSION < 4
	#error This compiler is too far out of date!
	#endif
	</xmp>
	
	<hr>
	
	<a name=/DM/preprocessor/if>
	<h2>#if directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/define>#define directive</a>
	<dd><a href=#/DM/preprocessor/ifdef>#ifdef directive</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#if Val
	<dd>...
	<dd>#elif Val2
	<dd>...
	<dd>#else
	<dd>...
	<dd>#endif
	</dl>
	
	<dl><dt><b>Args:</b>
	<dd>Val: A logical expression.
	</dl>
	
	<p>The <code>#if</code> statement is used to conditionally compile code.  If
	Val is true (non-zero), the code following the <code>#if</code> statement
	will be compiled.  Otherwise, compilation skips to the next
	<code>#elif</code>, <code>#else</code>, or <code>#endif</code> statement.
	
	<p>The function <code>defined()</code> can be used in the conditional
	expression.  It is true if its argument is a defined macro (with
	<code>#define</code>) and false otherwise.
	
	<h3>Example:</h3>
	<xmp>
	#if defined(DEBUG)
	// This code will be compiled if DEBUG is
	// defined
	#else
	// This code will be compiled if DEBUG is
	// not defined
	#endif
	</xmp>
	
	<p>You can also use <tt>fexists()</tt> in a conditional to check if a file
	exists.
	
	<hr>
	
	<a name=/DM/preprocessor/ifdef>
	<h2>#ifdef directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/define>#define directive</a>
	<dd><a href=#/DM/preprocessor/if>#if directive</a>
	<dd><a href=#/DM/preprocessor/ifndef>#ifndef directive</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#ifdef Name
	</dl>
	
	<dl><dt><b>Args:</b>
	<dd>Name: A macro definition.
	</dl>
	
	<p>The <code>#ifdef</code> statement is used to conditionally compile code.  It
	is equivalent to <code>#if defined(Name)</code>.
	
	<hr>
	
	<a name=/DM/preprocessor/ifndef>
	<h2>#ifndef directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/define>#define directive</a>
	<dd><a href=#/DM/preprocessor/if>#if directive</a>
	<dd><a href=#/DM/preprocessor/ifdef>#ifdef directive</a>
	<dd><a href=#/DM/preprocessor>preprocessor</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#ifndef Name
	</dl>
	
	<dl><dt><b>Args:</b>
	<dd>Name: A macro definition.
	</dl>
	
	<p>The <code>#ifndef</code> statement is used to conditionally compile code.
	It is equivalent to <code>#if !defined(Name)</code>.
	
	<hr>
	
	<a name=/DM/preprocessor/include>
	<h2>#include directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/define>#define directive</a>
	<dd><a href=#/DM/preprocessor/pragma>#pragma directive</a>
	<dd><a href=#/DM/preprocessor>preprocessor</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#include "Filename"
	<dd>#include &lt;Filename&gt;
	</dl>
	
	<dl><dt><b>Args:</b>
	<dd>"Filename": The path to the filename to include, from the current
		directory.
	<dd>&lt;Filename&gt;: The path inside the BYOND lib directory.
	</dl>
	
	<p>The <code>#include</code> statement causes the compiler to process another
	file before continuing in the current source file.
	
	<p>If a file is included multiple times, only the first occurrence will be
	processed. That is a convenient addition to the standard C preprocessor, which
	DM otherwise emulates quite closely. If you want the file to be included more
	than once, put the line <tt>#pragma multiple</tt> somewhere in the file.
	
	<p>The file <code>&lt;stddef.dm&gt;</code> is automatically included before
	all other source code. You can view the contents of that file by creating a
	file with that name in Dream Maker.
	
	<h3>Example:</h3>
	<xmp>
	#include "test.dm" // checks ./test.dm
	#include <test.dm> // checks lib-path/test.dm
	</xmp>
	
	<p>The BYOND lib directory is called <code>"lib"</code> and is located in the
	BYOND system directory (typically <code>"\Program Files\Byond\lib"</code>).
	If the file is not found there, it also looks in the user lib directory, which
	would typically be <code>"...\Byond\user\<i>login-name</i>\lib"</code>.
	
	<p>Note that the compiler interface allows you to include files graphically by
	simply clicking the checkbox next to the file.  This creates an include
	statement for you in the <code>.dme</code> project environment file.  The only
	time you would still want to manually include files is when you need to ensure
	a certain order of processing.  For example, if file <code>"MyCode.dm"</code>
	overrides procedure definitions of an object defined in
	<code>"LibCode.dm"</code>, you should include <code>"LibCode.dm"</code> at the
	top of <code>"MyCode.dm"</code>.  Most other DM code is independent of order,
	but overriding procedure definitions is not.  The compiler will warn you in
	such cases if you forget.
	
	<p>Another case in which you should manually include files is if you are
	writing a library to be used by other programmers.  Since the
	<code>.dme</code> file is not distributed with a library, all necessary
	inclusions must be made in the <code>.dm</code> files.
	
	<hr>
	
	<a name=/DM/preprocessor/pragma>
	<h2 byondver=515>#pragma directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/define>#define directive</a>
	<dd><a href=#/DM/preprocessor/include>#include directive</a>
	<dd><a href=#/DM/preprocessor>preprocessor</a>
	</dl>
	
	<p>The <tt>#pragma</tt> directive alters the compiler's behavior in various
	ways.
	
	<dl class=codedt>
	  <dt><a href=#/DM/preprocessor/pragma/multiple>#pragma multiple</a></dt>
	  <dd>Include this file more than once.</dd>
	  <dt><a href=#/DM/preprocessor/pragma/warn>#pragma ignore <i>Warning</i></a></dt>
	  <dt><a href=#/DM/preprocessor/pragma/warn>#pragma warn <i>Warning</i></a></dt>
	  <dt><a href=#/DM/preprocessor/pragma/warn>#pragma error <i>Warning</i></a></dt>
	  <dd>Changes how the compiler handles certain warnings.
	  <dt><a href=#/DM/preprocessor/pragma/push>#pragma push</a></dt>
	  <dd>Save the current pragma state.</dd>
	  <dt><a href=#/DM/preprocessor/pragma/push>#pragma pop</a></dt>
	  <dd>Restore a previously saved warning state.</dd>
	  <dt byondver=516><a href=#/DM/preprocessor/pragma/syntax>#pragma syntax</a></dt>
	  <dd>Switch to a different syntax for parsing certain procs.</dd>
	  <dt byondver=516><a href=#/DM/preprocessor/pragma/compatibility>#pragma compatibility</a></dt>
	  <dd>Hint that the compiler should avoid using features higher than a given version.</dd>
	  <dt byondver=516><a href=#/DM/preprocessor/pragma/math>#pragma math</a></dt>
	  <dd>Choose faster (old) or more accurate (new default) trigonometry.</dd>
	</dl>
	
	<p>Pragmas will <i>not</i> be inherited by libraries included in your project.
	
	<hr>
	
	<a name=/DM/preprocessor/pragma/compatibility>
	<h2 byondver=516>#pragma compatibility directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/pragma>#pragma directive</a>
	<dd><a href=#/DM/preprocessor/warn>warn/ignore/error directive</a>
	<dd><a href=#/DM/preprocessor/DM_VERSION>DM_VERSION macro</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#pragma compatibility <span class=faded>&lt;</span>version<span class=faded>&gt;</span>
	</dl>
	
	<p>Hints that the compiler should avoid using features past a certain major
	BYOND version. If it encounters a situation where you explicitly or implicitly
	use a newer feature than requested, it will generate a warning.
	
	<h3>Example:</h3>
	<xmp>
	#pragma compatibility 515
	</xmp>
	
	A value of 0 or anything negative will reset the compatibility version to the
	default.
	
	<hr>
	
	<a name=/DM/preprocessor/pragma/math>
	<h2 byondver=516>#pragma math directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/pragma>#pragma directive</a>
	<dd><a href=#/proc/sin>sin proc</a>
	<dd><a href=#/proc/cos>cos proc</a>
	<dd><a href=#/proc/tan>tan proc</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#pragma math <span class=faded>&lt;</span>fast<span class=faded>|</span>accurate<span class=faded>&gt;</span>
	</dl>
	
	<p>Chooses old-style fast math procs, or newer more accurate ones that
	sacrifice a small amount of speed. This appplies to
	<a class=code href=/proc/sin>sin()</a>, <a class=code href=/proc/cos>cos()</a>,
	and <a class=code href=/proc/tan>tan()</a>.
	
	<p>The reason this is necessary is because BYOND uses degrees for its angles,
	but converting to radians (for the underlying math libraries) can't be done
	with precision for many angles such as 90&deg;, which is &pi;/2 in radians.
	When the result of the trig function is small, the angle being slightly off
	from what the user intended will produce a small error in the result as well.
	
	<p>The more-accurate procs use trigonometric identities to reduce the angle
	to a more manageable range of 0 to 45&deg; (&pi;/4 radians).
	
	<h3>Example:</h3>
	<xmp>
	var/angle = 90
	#pragma math fast
	usr << cos(angle)   // 6.12323e-17
	#pragma math accurate
	usr << cos(angle)   // 0
	</xmp>
	
	<p>Using <a class=code href=/DM/preprocessor/pragma/compatibility>#pragma compatibility 515</a>
	will also force the fast math version.
	
	<p>Note: For consistency, built-in compiler math for constant values uses the
	same calculations that would be used for non-constant values runtime, so
	<tt>cos(90)</tt> compiles as 6.12323e-17 with fast math and as 0 for accurate
	math.
	
	<hr>
	
	<a name=/DM/preprocessor/pragma/multiple>
	<h2 byondver=515>#pragma multiple directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/pragma>#pragma directive</a>
	<dd><a href=#/DM/preprocessor/include>#include directive</a>
	</dl>
	
	<p>Allows this file to be included more than once. Ordinarily the
	<tt>#include</tt> directive only allows a file to be included once.
	
	<hr>
	
	<a name=/DM/preprocessor/pragma/push>
	<h2 byondver=515>#pragma push/pop directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/pragma>#pragma directive</a>
	<dd><a href=#/DM/preprocessor/pragma/warn>#pragma warn/ignore/error directive</a>
	</dl>
	
	<p><tt>#pragma push</tt> saves the current state any pragma flags,
	so for instance a warning's level can be temporarily changed to ignore, warn,
	or error.
	
	<p><tt>#pragma pop</tt> restores a previously saved pragma state.
	
	<h3>Example:</h3>
	<xmp>
	// temporarily ignore the unused_var warning
	#pragma push
	#pragma ignore unused_var
	
	proc/GNDN()
		var/nothing // var defined but not used
	
	#pragma pop
	</xmp>
	
	<hr>
	
	<a name=/DM/preprocessor/pragma/syntax>
	<h2 byondver=516>#pragma syntax directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/pragma>#pragma directive</a>
	<dd><a href=#/proc/for/loop>for loop proc</a>
	<dd><a href=#/proc/switch>switch proc</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#pragma syntax <span class=faded>&lt;</span>C<span class=faded>|</span>DM<span class=faded>&gt;</span> <span class=faded>[</span>for<span class=faded>|</span>switch<span class=faded>]</span>
	</dl>
	
	<p>Changes the syntax used to parse certain statements. This can be more
	natural for users who prefer non-DM style, and can sometimes do things that
	regular DM syntax can't do.
	
	<p>Changing the <a href=#/proc/for/loop><tt>for()</tt> loop</a> syntax to C
	will use semicolons to separate the Init, Test, Inc sections instead of
	commas. That means commas can be used to chain multiple statements together
	instead.
	
	<p>In <a class=code href=#/proc/switch>switch()</a>, C syntax changes the
	if/else statements to use C's <tt>case</tt> and/or <tt>default</tt> keywords,
	followed by a colon, and the <a href=#/proc/break><tt>break</tt> statement</a>
	is required to skip to the end of the switch unless you want to fall through
	to the next case. Fall-through behavior isn't possible in the default DM
	syntax.
	
	<h3>Example:</h3>
	<xmp>
	#pragma push
	#pragma syntax C switch
	
	switch(thing)
		case 1:
			usr << "This is case 1!"
			break
		case 2, 3:
			usr << "This is case 2 or 3."
			// no break, fall through
		case 4 to 6:
			usr << "This is case 4 through 6 (or maybe 2 or 3)."
			break
		default:
			usr << "This is a different case.
	
	#pragma pop
	</xmp>
	
	<hr>
	
	<a name=/DM/preprocessor/pragma/warn>
	<h2 byondver=515>#pragma warn/ignore/error directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/pragma>#pragma directive</a>
	<dd><a href=#/DM/preprocessor/warn>#warn directive</a>
	<dd><a href=#/DM/preprocessor/error>#error directive</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#pragma <span class=faded>&lt;</span>warn<span class=faded>|</span>ignore<span class=faded>|</span>error<span class=faded>&gt;</span> WarningName
	</dl>
	
	<p>Changes the way the compiler responds to warnings (except those caused
	by the <a href=#/DM/preprocessor/warn><tt>#warn</tt> directive</a>). The
	warning name appears in the compiler output when the warning is generated.
	
	<p>Multiple warning names can be used in the same pragma, separated by commas.
	
	<h3>Example:</h3>
	<xmp>
	// temporarily ignore the unused_var warning
	#pragma push
	#pragma ignore unused_var
	
	proc/GNDN()
		var/nothing // var defined but not used
	
	#pragma pop
	</xmp>
	
	<p>Here is a list of warnings that are disabled by default, but can be
	turned on for linting purposes:
	
	<table>
	<tr><th>Name</th><th>Description</th></tr>
	<tr><td>init_proc</td><td>A var in a very commonly used type, like <tt>/turf</tt> or <tt>/atom</tt> or <tt>/datum</tt>, is being initialized with an init proc. An example is <tt>var/stuff[]</tt> or <tt>var/list/stuff = list(1,2,3)</tt> which creates a list in a special internal proc because calling <a class=code href=#/datum/proc/New>New()</a>. Best practice is to not initialize the list until it's needed.</td></tr>
	<tr><td>frequent_call</td><td>A very commonly called proc such as <a class=code href=#/datum/proc/New>New()</a> or <a class=code href=#/datum/proc/Del>Del()</a> has been overridden on a type that gets created or destroyed frequently, such as <tt>/turf</tt>, <tt>/atom</tt>, or <tt>/datum</tt>.</td></tr>
	</table>
	
	<hr>
	
	<a name=/DM/preprocessor/undef>
	<h2>#undef directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/define>#define directive</a>
	<dd><a href=#/DM/preprocessor>preprocessor</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#undef Name
	</dl>
	
	<dl><dt><b>Args:</b>
	<dd>Name: A macro definition.
	</dl>
	
	<p>The <code>#undef</code> statement removes a macro definition.
	
	<hr>
	
	<a name=/DM/preprocessor/warn>
	<h2>#warn directive</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor>preprocessor</a>
	<dd><a href=#/DM/preprocessor/error>#error directive</a>
	</dl>
	
	<dl><dt><b>Format:</b>
	<dd>#warn Text
	</dl>
	
	<dl><dt><b>Args:</b>
	<dd>Text: a warning message to display
	</dl>
	
	<p>The #warn directive displays the specified message as a warning, but does
	not prevent the project from compiling.
	
	<h3>Example:</h3>
	<xmp>
	#ifdef USE_LIGHTING
	#warn The lighting feature in MyLibrary is experimental.
	#endif
	</xmp>
	
	<hr>
	
	<a name=/DM/sound>
	<h2>sounds</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/DM/preprocessor/define/FILE_DIR>FILE_DIR definition</a>
	<dd><a href=#/DM/cache>cache</a>
	<dd><a href=#/proc/sound>sound proc</a>
	<dd><a href=#/sound>/sound datum</a>
	<dd><a href=#/proc/load_resource>load_resource proc</a>
	</dl>
	
	<p>A sound stored in a file may be referenced by putting single quotes around
	the filename.  The file extension determines the type of sound.  Currently
	supported music types include MIDI (.mid or .midi), and module formats .mod, .it,
	.s3m, .xm, and .oxm. Supported sound effect formats include .wav, .ogg, .mp3,
	.raw, .wma, and .aiff.
	
	<h3>Example:</h3>
	<xmp>
	world << sound('fugue.midi')
	</xmp>
	
	<p>This example plays the specified midi file to all players.
	
	<hr>
	
	<a name=/DM/text>
	<h2>text</h2>
	
	<dl><dt><b>See also:</b>
	<dd><a href=#/operator/%3c%3c/output>&lt;&lt; output operator</a>
	<dd><a href=#/DM/text/entities>entities (text)</a>
	<dd><a href=#/DM/text/macros>macros (text)</a>
	<dd><a href=#/DM/text/tags>tags (text)</a>
	<dd><a href=#/proc/text>text proc</a>
	<dd><a href=#/{notes}/Unicode>Unicode</a>
	</dl>
	
	<p>Text consists of a string of characters enclosed in double quotes.  To
	place a quote inside a string, escape it with a backslash <code>\</code>
	character.  You will also need to escape a backslash if you want to use
	one on purpose.
	
	
	<h3>Example:</h3>
	<xmp>
	usr << "He said, \"Hi.\""
	</xmp>
	
	<p>This example sends some text to the usr:  <code>He said, "Hi."</code>
	
	<p>Backslashes are also used for special <a href=#/DM/text/macros>macros</a>
	and to escape other characters that would normally be hard to include in a
	string.  A backslash at the end of a line will ignore the line break, and
	continue the string on the next line after ignoring any leading spaces.
	
	<p>To insert a variable expression into a string, enclose it in brackets
	<code>[]</code>.  These are referred to as embedded text expressions.  An
	object expression will display the object's name preceded by the text macro
	<code>\the</code> or <code>\The</code> if no other article has been
	specified.  Capitalization of the article is inferred from context.
	
	<h3>Example:</h3>
	<xmp>
	mob/verb/shout(T as text)
	  world << "[usr]: [T]"
	</xmp>
	
	<p>If this example is called by a mob named "Bill" with the text "hi
	everybody!", it will display "Bill: hi everybody!".
	
	<p>On the other hand, if it is called by a mob named "cat", it would display
	"The cat: hi everybody!".
	
	<p byondver=515>Via <a href=#/operator/overload>operator overloading</a> you
	can define an <tt>operator""</tt> proc for an object to return different
	text when it's embedded in a string.
	
	<h3>Document strings</h3>
	
	<p>For lengthy text strings, DM provides a special text <em>document</em>
	syntax.  This begins with <code>{"</code> and ends with <code>"}</code>.  It
	may include multiple lines and even un-escaped double quotes, but it still
	parses escape characters and embedded expressions.
	
	<h3>Example:</h3>
	<xmp>
	mob/verb/end()
	  usr << {"
	This is the way the world ends
	This is the way the world ends
	This is the way the world ends
	Not with a bang but a whimper.
	
	--T.S. Eliot "Hollow Men"
	"}
	  del world  //the end!
	</xmp>
	
	<h3 byondver=512>Raw strings</h3>
	
	<p>DM also has a format for raw strings, which do not allow escape characters
	or embedded expressions.  This can be useful for many situations, especially
	<a href=#/{notes}/regex>regular expressions</a> which tend to use
	characters that need escaping.  There are three ways to specify a raw string.
	All of them begin with the <code>@</code> character.
	
	<p>Simple raw strings follow <code>@</code> with a single-character
	delimiter, usually <code>"</code> but it can be almost anything, and end when
	that delimiter is seen again.  Line breaks are not allowed in simple raw
	strings.
	
	<h3>Examples:</h3>
	<xmp>
	world << @"I can say \ or [] without escaping anything!"
	world << @#Here I can use "quotes" but not the pound sign.#
	
	var/regex/R = new(@/(\d+)/)
	
	// without raw strings
	world << "I can say \\ or \[] without escaping anything!"   // lying
	world << "I have to escape \"quotes\" to use them."
	
	var/regex/R = new("(\\d+)")
	</xmp>
	
	<p>Complex raw strings use more complicated delimiters, but they let you
	include line breaks.  There are two ways to do this: One starts with
	<code>@{"</code> and ends with <code>"}</code>, so it looks like the familiar
	document string format.  The other way starts with <code>@(XYZ)</code>, where
	<code>XYZ</code> is any arbitrary text you want it to be, and ends when that
	same text is encountered.
	
	<p>With a complex raw string, a single leading and/or trailing line break will
	be ignored.
	
	<h3>Examples:</h3>
	<xmp>
	world << @{"
	Now I have absolute freedom to use "quotes"
	or [brackets] or line breaks, as long as I
	don't follow a quote with a closing brace.
	"}
	
	world << @(~~~)
	Until three tilde (~) characters are seen, this is a valid string.
	~~~     // end of string
	
	world << @(!!)You don't need a line break if you don't want one.!!
	</xmp>
	
	<hr>
	<hr>

<a name=/{notes}/pixel-movement toc="Pixel movement">
<h2 byondver=490>Pixel movement</h2>

<dl><dt><b>See also:</b>
<dd><i>Bounding boxes</i>
<dd><a href=#/atom/movable/var/bound_x>bound_x var (movable atom)</a>
<dd><a href=#/atom/movable/var/bound_y>bound_y var (movable atom)</a>
<dd><a href=#/atom/movable/var/bound_width>bound_width var (movable atom)</a>
<dd><a href=#/atom/movable/var/bound_height>bound_height var (movable atom)</a>
<dd><a href=#/atom/var/icon_w>icon_w var (atom)</a>
<dd><a href=#/atom/var/icon_z>icon_z var (atom)</a>
<dd><i>Speed and position</i>
<dd><a href=#/atom/movable/var/step_size>step_size var (movable atom)</a>
<dd><a href=#/atom/movable/var/step_x>step_x var (movable atom)</a>
<dd><a href=#/atom/movable/var/step_y>step_y var (movable atom)</a>
<dd><a href=#/atom/movable/var/locs>locs list var (movable atom)</a>
<dd><a href=#/atom/var/contents>contents list var (atom)</a>
<dd><a href=#/world/var/fps>fps var (world)</a>
<dd><i>Movement</i>
<dd><a href=#/atom/movable/proc/Move>Move proc (movable atom)</a>
<dd><a href=#/atom/proc/Cross>Cross proc (atom)</a>
<dd><a href=#/atom/proc/Crossed>Crossed proc (atom)</a>
<dd><a href=#/atom/proc/Uncross>Uncross proc (atom)</a>
<dd><a href=#/atom/proc/Uncrossed>Uncrossed proc (atom)</a>
<dd><a href=#/world/var/movement_mode>movement_mode var (world)</a>
<dd><a href=#/atom/var/appearance_flags>appearance_flags var (atom)</a>
<dd><i>Other topics</i>
<dd><a href=#/proc/bounds>bounds proc</a>
<dd><a href=#/proc/bounds_dist>bounds_dist proc</a>
<dd><a href=#/{notes}/gliding>Gliding</a>
</dl>

<p>Pixel movement is a concept that allows atoms to escape the constraints of
BYOND's historically tile-based movement, and move in smaller steps. In the
past this had to be done with soft code, but that was sometimes inconvenient
and it did not perform as well in projects with many objects moving.

<p>The key to understanding pixel movement is to use the bound and step vars.
You use the bound family of vars to define a bounding box for a movable atom,
instead of just making it one full tile in size. The step vars can give it a
movement speed and offset it from the corner of the tile it's standing on.

<ul><li>bound_x: The left edge of the bounding box</li>
<li>bound_y: The bottom edge of the bounding box</li>
<li>bound_width: Width of the bounding box</li>
<li>bound_height: Height of the bounding box</li>
<li>step_size: default movement speed</li>
<li>step_x: x offset from the corner of loc</li>
<li>step_y: y offset from the corner of loc</li></ul>

<p>Those are for movable atoms only; they do not apply to turfs.

<p>If <a class=code href=#/world/var/movement_mode>world.movement_mode</a>
is set to <tt>TILED_MOVEMENT_MODE</tt>, all movable atoms must be aligned
to the tile grid: their step_x/y/size values must be multiples of the icon
size, and their bounds must also land on tile boundaries although the atom
can be bigger than one tile. In other movement modes you can specify that
only specific atoms use this behavior, by giving them the
<a class=code href=#/atom/var/appearance_flags>TILE_MOVER</a> appearance
flag.

<h3>Bounding boxes</h3>

<div class="sidebar embed-image">
<img src="data:image/png;charset=utf-8;base64,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">
<p><b>Left:</b> The bounding box (blue) is the only part of the mob that actually collides with anything. By default, it would cover the whole turf (brown). Any turfs covered by the bounding box are in the mob's locs var. <b>Right:</b> The atom's true position (shaded) is offset from the turf by step_x and step_y.</p>
</div>

<p>As an example, if your players' mobs have icons that only cover the center
24&times;24 pixels of a regular 32&times;32 icon, then you would set the
mobs' bound_x and bound_y to 4--because there are 4 pixels unused to the left
and bottom--and bound_width and bound_height to 24.

<p>The mob's physical location on the map depends on four things: Its loc,
its step_x/y values, its bound_x/y values, and its bound_width/height. The
lower left corner of the bounding box, relative to the turf the mob is
actually standing on, begins at step_x+bound_x on the left and step_y+bound_y
on the bottom.

<p>The physical position of the bounding box is <b>not affected</b> by the
pixel_x/y/z vars. Those are still strictly visual offsets.

<p>The turfs the mob is covering can be read from the read-only locs var. The
mob will also appear in the contents of those turfs.

<p>Note: This means if an atom is in a turf's contents, its loc is <i>not
necessarily</i> that turf. The contents list is made to include "overhangers"
from another tile for ease of use.

<h3>Movement</h3>

<p>All of the step and walk procs have been upgraded to take an additional
argument, which is the speed at which the atom should move. If that argument
is left out, the atom's own step_size is used by default. The step_size
determines how fast the step_x and step_y values will change when moving.

<p>Move() has two new arguments that handle the position change gracefully.
These are the step_x and step_y values for the target location.

<p>Pixel movement changes the behavior of the Move() proc, because a lot of
things are possible that were not possible when BYOND only supported moving
one tile at a time. For starters, a Move() is either a "slide" or a "jump"
depending on the distance. A slide is when the move can be stopped partway;
a jump is strictly pass/fail. Anything greater than one tile <i>and</i> the
mover's regular step_size is considered a jump. Changing z levels is also a
jump, as is moving to/from a non-turf.

<p>If step_x and step_y aren't within a good range, the new loc and the
step_x/y values may be changed so that the southwest corner of the mover's
bounding box is standing on its actual loc, or as close to it as possible.

<p>Enter() and Exit() can be called for several turfs and/or areas, not
just one at a time. It is also possible for them not to be called at all,
if the moving atom moves within a turf but doesn't cross a new turf
boundary. Enter() and Exit() are only called when first attempting to enter
or fully exit. The behavior of these procs depends on
<a class=code href=#/world/var/movement_mode>world.movement_mode</a>; in
legacy mode, they look at some of the contents of the turfs as well as the
turfs themselves, to preserve behavior found in older BYOND versions.

<p>Cross() and Uncross() are the equivalent of Enter() and Exit() but apply
to objects the mover will either overlap or stop overlapping. (For turfs,
Enter() and Exit() call these procs by default, since the mover is both
stepping <i>into</i> and <i>onto</i> a turf.) Likewise Crossed() and
Uncrossed() are the equivalents of Entered() and Exited().

<p>If an atom is sliding, its movement can be halted if it encounters an
obstacle partway along its route. Bump() will still be called for any
obstacles the atom runs into, but Move() will return the number of pixels
moved (the most in any direction). When sliding at a speed so fast that the
distance is bigger than the atom itself, the move will be split up into
several smaller slides to avoid skipping over any obstacles.

<p>Gliding, which is used to show smooth movement between atoms in tile
movement, is mostly not used in pixel movement. It only applies when the
client uses a higher <a class=code href=#/client/var/fps>fps</a> than the
server.

<h3>Pixel procs</h3>

<p>The bounds() and obounds() procs have been added to grab a list of atoms
within a given bounding box. That box can be relative to an atom, or in
absolute coordinates.

<p>bounds_dist() tells the distance between two atoms, in pixels. If it is
positive, that is the minimum distance the atoms would have to traverse to be
touching. At 0, they are touching but not in collision. A negative value
means the two atoms are in collision.

<hr>

<a name=/{notes}/projection-matrix toc="Projection matrix">
<h2 byondver=514>Projection matrix</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{notes}/particles>Particle effects</a>
<dd><a href=#/atom/var/transform>transform var (atom)</a>
<dd><a href=#/matrix>matrix</a>
<dd><a href=#/{notes}/color-matrix>Color matrix</a>
</dl>

<p>Note: Currently this feature applies only to particle effects, using the
<tt>transform</tt> var.

<p>Normally icons in BYOND can only be transformed in 2D, using a simple 3x3
matrix. This is represented by the <tt>/matrix</tt> object, which cuts off the
last column because it isn't used. However particles can have coordinates in x,
y, and z, and the whole particle set can be given a transformation matrix that
handles all three dimensions.

<h3>Simple 2D transforms</h3>

<p>The easiest transformation for particles is a simple 2D one, which you can
do by setting the particle datum's <tt>transform</tt> var to a <tt>/matrix</tt>
object.

<pre>          a d 0
x y 1  *  b e 0  =  x' y' 1
          c f 1</pre>

<p>When an x,y point is multiplied by the matrix, it becomes the new point
x',y'. This is equivalent to:

<pre>x' = a*x + b*y + c
y' = d*x + e*y + f</pre>

<p>This is called an <b>affine transform</b> because all the operations are
"linear" in math terms. (That is, every term in the formula above has a single
variable, not raised to a higher power than 1.)

<h3>3x4 matrix (x,y,z with translation)</h3>

<p>3D affine transforms of this type are also affine transformations. There is
no special object for this so a list is used (see below).

<pre>            xx xy xz 0
x y z 1  *  yx yy yz 0  =  x' y' z' 1
            zx zy zz 0
            cx cy cz 1</pre>

<p>The way to read the vars above is that the first letter says what input
component is being transformed (x,y,z, or c for "constant"), and the second
letter is the output component.

<pre>x' = xx*x + yx*y + zx*z + cx
y' = xy*x + yy*y + zy*z + cy
z' = xz*x + yz*y + zz*z + cz</pre>

<p>To use this kind of matrix, you can cut off the 4th column and provide the
values in a list form, in row-major order:

<xmp>list(xx,xy,xz, yx,yy,yz, zx,zy,zz, cx,cy,cz)</xmp>

<p>Note the 4th row is also optional.</p>

<h3>4x4 matrix (x,y,z,w with projection)</h3>

<p>This is the most interesting matrix, since if you use all 4 columns you're
actually altering an "axis" called w. This isn't a real axis, but is just a
number that the resulting vector will be divided by.

<pre>            xx xy xz xw
x y z 1  *  yx yy yz yw  =  x'w' y'w' z'w' w'
            zx zy zz zw
            wx wy wz ww

w' = xw*x + yw*y + zw*z + ww
x' = (xx*x + yx*y + zx*z + wx) / w'
y' = (xy*x + yy*y + zy*z + wy) / w'
z' = (xz*x + yz*y + zz*z + wz) / w'</pre>

<p>In a regular affine transform, w always stays at 1. In projection you can
think of w as a distance from the "camera". 1 is where objects are their
"normal" size. If you make the z value affect w' by setting zw, you basically
make an object look smaller at higher z values.

<p>This is a simple projection matrix where x,y,z are left untouched, but
there's a projection effect. The "D" value is how far away the "camera" is
from z=0, so a point at z=D looks like it's twice as far away.

<pre>
1  0  0  0
0  1  0  0
0  0  1  1/D
0  0  0  1
</pre>

<p>This 4x4 matrix is handled as a list just like the 3x4 affine matrix:

<xmp>list(xx,xy,xz,xw, yx,yy,yz,yw, zx,zy,zz,zw, wx,wy,wz,ww)</xmp>

<hr>

<a name=/{notes}/regex toc="Regular expressions">
<h2>Regular expressions</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/regex>regex datum</a>
<dd><a href=#/proc/regex>regex proc</a>
<dd><a href=#/proc/findtext>findtext proc</a>
<dd><a href=#/proc/replacetext>replacetext proc</a>
<dd><a href=#/proc/splittext>splittext proc</a>
<dd><a href=#/proc/REGEX_QUOTE>REGEX_QUOTE proc</a>
</dl>

<p>Regular expressions are patterns that can be searched for within a text
string, instead of searching for an exact match to a known piece of text.
They are much more versatile for find and replace operations, and therefore
useful for parsing, filtering, etc.

<p>Some example regular expressions are:

<table class="regex">
<tr><th>Pattern</th><th>Code</th><th>Meaning</th></tr>
<tr><td>B.*D</td><td>regex("B.*D")</td><td>Find <tt>B</tt>, followed by any number of characters (including none), followed by a <tt>D</tt>.</td></tr>
<tr><td>[0-3]</td><td>regex(@"[0-3]")</td><td>Find any digit from 0 to 3</td></tr>
<tr><td>foo|bar</td><td>regex("foo|bar","i")</td><td>Find <tt>foo</tt> or <tt>bar</tt>, case-insensitive</td></tr>
<tr><td>\d+</td><td>regex(@"\d+","g")</td><td>Find all sequences of digits</td></tr>
</table>

<p>These are some of the patterns you can use. If you want to use any of the
operators as an actual character, it must be escaped with a backslash.

<p>It is highly recommended that you use <a href=#/DM/text>raw strings</a>
like <code>@"..."</code> for your regular expression patterns, because with a
regular DM string you have to escape all backslash <code>\</code> and open
bracket <code>[</code> characters, which will make your regular expression
much harder for you to read. It's easier to write <code>@"[\d]\n"</code> than
<code>"\[\\d]\\n"</code>.

<table class="regex">
<tr><th>Pattern</th><th>Matches</th></tr>
<tr><td><i>a</i>|<i>b</i></td><td><i>a</i> or <i>b</i></td></tr>
<tr><td>.</td><td>Any character (except a line break)</td></tr>
<tr><td>^</td><td>Beginning of text; or line if <tt>m</tt> flag is used</td></tr>
<tr><td>$</td><td>End of text; or line if <tt>m</tt> flag is used</td></tr>
<tr><td>\A</td><td>Beginning of text</td></tr>
<tr><td>\Z</td><td>End of text</td></tr>
<tr><td>[<i>chars</i>]</td><td>Any character between the brackets. Ranges can be specified with a hyphen, like 0-9. Character classes like <tt>\d</tt> and <tt>\s</tt> can also be used (see below).</td></tr>
<tr><td>[^<i>chars</i>]</td><td>Any character NOT matching the ones between the brackets.</td></tr>
<tr><td>\b</td><td>Word break</td></tr>
<tr><td>\B</td><td>Word non-break</td></tr>
<tr><td>(<i>pattern</i>)</td><td>Capturing group: the pattern must match, and its contents will be captured in the group list.</td></tr>
<tr><td>(?:<i>pattern</i>)</td><td>Non-capturing group: Match the pattern, but do not capture its contents.</td></tr>
<tr><td>\1 <i>through</i> \9</td><td>Backreference; <tt>\<i>N</i></tt> is whatever was captured in the <i>N</i>th capturing group.</td></tr>

<tr><th colspan=2>Modifiers</th></tr>
<tr><td colspan=2>Modifiers are "greedy" by default, looking for the longest match possible.  When following a word, they only apply to the last character.</td></tr>
<tr><td><i>a</i>*</td><td>Match <i>a</i> zero or more times</td></tr>
<tr><td><i>a</i>+</td><td>Match <i>a</i> one or more times</td></tr>
<tr><td><i>a</i>?</td><td>Match <i>a</i> zero or one time</td></tr>
<tr><td><i>a</i>{<i>n</i>}</td><td>Match <i>a</i>, exactly <i>n</i> times</td></tr>
<tr><td><i>a</i>{<i>n</i>,}</td><td>Match <i>a</i>, <i>n</i> or more times</td></tr>
<tr><td><i>a</i>{<i>n</i>,<i>m</i>}</td><td>Match <i>a</i>, <i>n</i> to <i>m</i> times</td></tr>
<tr><td><i>modifier</i>?</td><td>Make the previous modifier non-greedy (match as little as possible)</td></tr>

<tr><th colspan=2>Escape codes and character classes</th></tr>
<tr><td>\x<i>NN</i></td><td>Escape code for a single character, where <i>NN</i> is its hexadecimal ASCII value</td></tr>
<tr><td>\u<i>NNNN</i></td><td>Escape code for a single 16-bit Unicode character, where <i>NNNN</i> is its hexadecimal value</td></tr>
<tr><td>\U<i>NNNNNN</i></td><td>Escape code for a single 21-bit Unicode character, where <i>NNNNNN</i> is its hexadecimal value</td></tr>
<tr><td>\d</td><td>Any digit 0 through 9</td></tr>
<tr><td>\D</td><td>Any character except a digit or line break</td></tr>
<tr><td>\l</td><td>Any letter A through Z, case-insensitive</td></tr>
<tr><td>\L</td><td>Any character except a letter or line break</td></tr>
<tr><td>\w</td><td>Any identifier character: digits, letters, or underscore</td></tr>
<tr><td>\W</td><td>Any character except an identifier character or line break</td></tr>
<tr><td>\s</td><td>Any space character</td></tr>
<tr><td>\S</td><td>Any character except a space or line break</td></tr>

<tr><th colspan=2>Assertions</th></tr>
<tr><td>(?=<i>pattern</i>)</td><td>Look-ahead: Require this pattern to come next, but don't include it in the match</td></tr>
<tr><td>(?!<i>pattern</i>)</td><td>Look-ahead: Require this pattern NOT to come next</td></tr>
<tr><td>(?&lt;=<i>pattern</i>)</td><td>Look-behind: Require this pattern to come before, but don't include it in the match (must be a fixed byte length)</td></tr>
<tr><td>(?&lt;!<i>pattern</i>)</td><td>Look-behind: Require this pattern NOT to come before (must be a fixed byte length)</td></tr>
</table>

<p>The optional flags can be any combination of these:

<table class="regex">
<tr><th>Flag</th><th>Meaning</th></tr>
<tr><td>i</td><td>Case-insensitive matching</td></tr>
<tr><td>g</td><td>Global: In Find() subsequent calls will start where this left off, and in Replace() all matches are replaced.</td></tr>
<tr><td>m</td><td>Multi-line: ^ and $ refer to the beginning and end of a line, respectively.</td></tr>
</table>

<p>After calling <tt>Find()</tt> on a <tt>/regex</tt> datum, the datum's
<tt>group</tt> var will contain a list&mdash;if applicable&mdash;of any
sub-patterns found with the <tt>()</tt> parentheses operator. For instance,
searching the string <tt>"123"</tt> for <tt>1(\d)(\d)</tt> will match
<tt>"123"</tt>, and the <tt>group</tt> var will be <tt>list("2","3")</tt>.
Groups can also be used in replacement expressions; see the
<a class=code href=#/regex/proc/Replace>Replace() proc</a> for more details.

<hr>

<a name=/{notes}/renderer toc="Understanding the renderer">
<h2>Understanding the renderer</h2>

<style>
  .renderlist {position: relative; display: inline-block; margin-left: 3em; text-align: center;}
  .renderlist-label, .renderlist-caption, .renderlist-note {display: block; margin: 3px 0; width: 100%;}
  .renderlist-caption {font-size: 1.1em; font-weight: bold;}
  .renderlist-note {font-size: 0.9em;}
  .renderlist-box {background: #eee; border: 1px solid #333; padding: 3px 10px; margin: 3px 0; border-radius: 10px;}
  body.dark .renderlist-box {color: white; background: #333; border-color: #aaa;}
  .renderlist-box .renderlist-box {background: #ddd; width: 100%;}
  body.dark .renderlist-box .renderlist-box {background: #444; width: 100%;}
  .renderlist-box .renderlist-box .renderlist-box {background: #ccc;}
  body.dark .renderlist-box .renderlist-box .renderlist-box {background: #555;}
</style>

<p>To get the most out of BYOND's visual effects, it helps to understand how
the map is displayed.

<p>Every atom has an <a href=#/atom/var/appearance>appearance</a> that holds
all of its visual info (and sometimes a little non-visual info). This
appearance has to be turned into sprites in order to be rendered.

<p>Although many atoms need little more than a simple
<a class=code href=#/atom/var/icon>icon</a> and
<a class=code href=#/atom/var/icon_state>icon_state</a> and produce only a
single sprite, some are more complex with overlays, underlays, maptext, etc.
Also there may be <a href=#/image>image objects</a> and
<a href=#/atom/var/vis_contents>visual contents</a> involved, although
they're not part of the atom's appearance.

<p>For a simple <tt>icon</tt> and <tt>icon_state</tt>, just one sprite is
generated. The client looks up the icon it's given. Then it looks up an icon
state, which may be influenced by whether the atom is moving or not since you
can have moving and non-moving icon states. Then it determines which
<a href=#/atom/var/dir>direction</a> to draw and which frame of the icon's
animation (if any) to use.

<p>So with several simple icons, and not worrying about layers for now, a list
of sprites lays out like this:

<div class=renderlist>
<div class=renderlist-box>Atom #1</div>
<div class=renderlist-box>Atom #2</div>
<div class=renderlist-label>&vellip;</div>
<div class=renderlist-box>Atom #N</div>
</div>

<h3>Overlays and underlays</h3>

<p>Now let's consider what happens when an appearance has overlays.

<div class=renderlist>
<div class=renderlist-box>Underlay #1</div>
<div class=renderlist-label>&vellip;</div>
<div class=renderlist-box>Underlay #N</div>
<div class=renderlist-box>Main icon</div>
<div class=renderlist-box>Overlay #1</div>
<div class=renderlist-label>&vellip;</div>
<div class=renderlist-box>Overlay #N</div>
</div>

<p>The <a class=code href=#/atom/var/underlays>underlays</a> list is processed
first, then <a class=code href=#/atom/var/overlays>overlays</a>. These lists
contain appearances themselves, rather than actual atoms. This means that
overlays are recursive: an overlay can have overlays itself. To picture how
that works, just replace
one of the overlays above with another list.

<div class=renderlist>
<div class=renderlist-box>Underlay #1</div>
<div class=renderlist-box>Underlay #2</div>
<div class=renderlist-box>Main icon</div>
<div class=renderlist-box>Underlays of overlay #1</div>
<div class=renderlist-box>Overlay #1 icon</div>
<div class=renderlist-box>Overlays of overlay #1</div>
<div class=renderlist-box>Overlay #2</div>
</div>

<h3>Image objects and visual contents</h3>

<p>Any atom can have an <a href=#/image>image object</a> attached, which can
be shown to only specific players. Most atoms, and image objects, can have
<a href=#/atom/var/vis_contents>visual contents</a> that display other atoms
as if they're overlays.

<div class=renderlist>
<div class=renderlist-box>Underlays</div>
<div class=renderlist-box>Main icon</div>
<div class=renderlist-box>Overlays</div>
<div class=renderlist-box>Image objects</div>
<div class=renderlist-box>Visual contents</div>
</div>

<p>As you see this is very similar to overlays. Just like overlays, image
objects and visual contents have appearances of their own (and may also have
their own images or visual contents), so this may be recursive as they add
new overlays, etc.

<p>A couple of things to keep in mind:

<ul>
<li>If an image object uses the <a class=code href=#/atom/var/override>override</a>
  var, it will replace the main appearance's icon and overlays, although it
  won't replace other images or visual contents.</li>
<li>An object in visual contents can use
  <a class=code href=#/atom/var/vis_flags>vis_flags</a> to set
  <tt>VIS_UNDERLAY</tt> and move itself before the parent's underlays.</li>
</ul>

<h3>Maptext and particles</h3>

<p>Any appearance may have <a class=code href=#/atom/var/maptext>maptext</a>
attached. That maptext draws above the icon but is grouped with it. That
grouping will be discussed further below.

<p>Particle effects also get grouped with the main icon in a similar way to
maptext.

<p>For simplicity, from this point forward the diagram will just treat underlays,
overlays, image objects, and visual contents as overlays.

<div class=renderlist>
<div class=renderlist-box>
  <div class=renderlist-box>Main icon</div>
  <div class=renderlist-box>Maptext</div>
  <div class=renderlist-box>Particles</div>
</div>
<div class=renderlist-box>Overlays</div>
</div>

<h3>Color, transform, and filters</h3>

<p>An appearance's <a class=code href=#/atom/var/color>color</a> and
<a class=code href=#/atom/var/alpha>alpha</a> vars (from here forwarded
they'll just be referred to by <tt>color</tt>) and
<a class=code href=#/atom/var/transform>transform</a> are inherited by any
overlays, which also includes images and visual contents. You can avoid that
inheritance by giving those overlays special
<a class=code href=#/var/appearance_flags>appearance_flags</a>:
<tt>RESET_COLOR</tt>, <tt>RESET_ALPHA</tt>, and <tt>RESET_TRANSFORM</tt>.

<p>The appearance's filters are only applied to the main icon.

<div class=renderlist>
<div class=renderlist-box>
  <div class=renderlist-box>Main icon</div>
  <div class=renderlist-box>Maptext</div>
  <div class=renderlist-note>Main <tt>color</tt>, <tt>transform</tt>, and <tt>filters</tt> apply</div>
</div>
<div class=renderlist-box>
  <div class=renderlist-label>Overlays</div>
  <div class=renderlist-note><tt>color</tt> and <tt>transform</tt> are inherited from Main<br><tt>filters</tt> are not inherited from Main</div>
</div>
</div>

<p>When <tt>color</tt> and <tt>transform</tt> are inherited, they "stack". The
inherited color and transform values are applied after those of the overlays.

<h3><tt>KEEP_TOGETHER</tt> and <tt>KEEP_APART</tt></h3>

<p>There are times it's desirable for an appearance and all its overlays to be
treated as a single unit so any colors or filters can be applied all at once.
One simple example is if the appearance has an <tt>alpha</tt> of 128 to make it
translucent, you probably want to draw the whole atom faded instead of drawing
each sprite faded, one on top of the other.

<p>By using the <tt>KEEP_TOGETHER</tt> value in
<a class=code href=#/var/appearance_flags>appearance_flags</a> (called KT for
short), an appearance will group all of its underlays and overlays together.
If this is an atom with image objects and visual contents, those will be
grouped with it as well.

<div class=renderlist>
<div class=renderlist-box>
  <div class=renderlist-label>KT group</div>
  <div class=renderlist-note>Main <tt>color</tt>, <tt>transform</tt>, and <tt>filters</tt> apply</div>
  <div class=renderlist-box>
    <div class=renderlist-box>Main icon</div>
    <div class=renderlist-box>Maptext</div>
  </div>
  <div class=renderlist-box>Overlays</div>
</div>
</div>

<p>With <tt>KEEP_TOGETHER</tt> all of these sprites are rendered to a
temporary drawing surface, and then the main appearance's <tt>color</tt>,
<tt>transform</tt>, and <tt>filters</tt> are all applied to the combined
drawing. This comes with a trade-off, since you can no longer use flags
such as <tt>RESET_COLOR</tt> to opt out of inheritance.

<p>If an overlay doesn't want to be part of a KT group, it can use the
<tt>KEEP_APART</tt> flag (KA for short). If there are multiple nested
KT groups, KA will only escape the innermost group.

<p>If an overlay inside a KT group has a different
<a class=code href=#/atom/var/plane>plane</a> than the group's owner, it
will be separated as if it defined <tt>KEEP_APART</tt>, except it can
escape multiple nested groups.

<h3>Layers and planes</h3>

<p>Any appearance can have a <a class=code href=#/atom/var/layer>layer</a>
or <a class=code href=#/atom/var/layer>plane</a>, and these influence how
it gets sorted. (There's also a concept called a "sub-plane" that's
influenced by whether an atom is a
<a href=#/{notes}/HUD>HUD/screen object</a> or special layers like
<a class=code href=#/{notes}/BACKGROUND_LAYER>BACKGROUND_LAYER</a>.)

<p>If a sprite is created with <tt>FLOAT_LAYER</tt> (any negative value
counts as a floating layer) its layer has to be resolved, or "unfloated".
The main sprite for an atom can never float; it has to have a real layer.
Its overlays and underlays with floating layers will reorder themselves in
numerical order, then look for the next closest sprites in the rendering
list that has a non-negative layer.

<p>A similar process happens with <tt>FLOAT_PLANE</tt>. Planes can have
negative values but <TT>FLOAT_PLANE</TT> and the values close to it are
special. Sprites with floating planes have to resolve those as well.

<p>Once all atoms that will appear on the map are assembled into a rendering
list of sprites, the order in which they're rendered on the map is determined
in this order:

<ol>
  <li>The <tt>plane</tt> var matters most.</li>
  <li>Subplane is counted next. E.g., HUD objects render above non-HUD objects.</li>
  <li>Depending on <a class=code href=#/world/var/map_format>world.map_format</a>, <tt>layer</tt> or physical position determine the drawing order from here.</li>
  <li>After everything else has been checked, the order the sprites were generated in is the final tie-breaker.</li>
</ol>

<p>In a typical topdown map, <tt>layer</tt> is basically all that matters
after the plane and subplane are taken into account. There is a legacy
concept called micro-layers that helps break ties between sprites with the
same layer; for instance if an atom is moving it's usually desirable to
draw it above other atoms with the same layer; this applies only to topdown
maps.

<h3>Plane masters</h3>

<p>Sometimes it's helpful to group multiple sprites on one plane as if the
plane itself were a KT group. For this,
<a class=code href=#/var/appearance_flags>appearance_flags</a> has a value
called <tt>PLANE_MASTER</tt>. An object with this flag will act as a "parent"
for everything else on the plane. All other sprites on the plane will be
grouped together and rendered on a temporary drawing surface, and then the
plane master's <tt>color</tt>, <tt>transform</tt>, and <tt>filters</tt> will
be applied.

<p>A plane master does not, however, get an icon or maptext of its own;
they're simply ignored. It can have overlays added to the group.

<h3>Advanced topics</h3>

<p>There are other topics not covered in this article, such as
<a href=#/atom/var/render_target>render targets</a> and special map formats.
Any details on how those features impact rendering are discussed in their
own articles.

<hr>

<a name=/{notes}/side toc="Side-view maps">
<h2 byondver=482>Side-view maps</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/world/var/map_format>map_format var (world)</a>
<dd><a href=#/world/var/icon_size>icon_size var (world)</a>
<dd><a href=#/client/var/dir>dir var (client)</a>
<dd><a href=#/atom/var/pixel_w>pixel_w var (atom)</a>
<dd><a href=#/atom/var/pixel_z>pixel_z var (atom)</a>
<dd><a href=#/atom/movable/var/screen_loc>screen_loc var (movable atoms)</a>
<dd><a href=#/{notes}/big-icons>Big icons</a>
<dd><a href=#/{notes}/isometric>Isometric maps</a>
<dd><a href=#/{notes}/topdown>Topdown maps</a>
<dd><a href=#/{notes}/HUD>HUD</a>
<dd><a href=#/{notes}/BACKGROUND_LAYER>BACKGROUND_LAYER</a>
<dd><a href=#/{notes}/EFFECTS_LAYER>EFFECTS_LAYER</a>
<dd><a href=#/{notes}/topdown_layer>TOPDOWN_LAYER</a>
</dl>

<p>The side-view map format is used for 3/4 perspective, where the map is
basically similar to a top-down view but is usually foreshortened. Just like
with isometric projection, tiles that are closer to the bottom of the screen
are considered to be closer to the viewer. This is a form of pseudo-3D in
which the 2D icons used by BYOND can be arranged in a way to give the
appearance of three dimensions.

<p>It is important to remember that this is an illusion of 3D, not real 3D.

<p>The <tt>layer</tt> var behaves much the same way it does in
<tt>ISOMETRIC_MAP</tt> mode.See <a href=#/{notes}/isometric>isometric maps</a>
for more information.

<p>When using this mode you may want to use a foreshortened
<tt>world.icon_size</tt>, like a 32x24 format instead of 32x32 for example,
and use taller icons for any vertical structures like walls or buildings. If
you set <tt>world.icon_size</tt> to use foreshortening, then <tt>pixel_y</tt>
(or <tt>pixel_x</tt>, depending on the orientation of client.dir) will be
adjusted for you; the same applies to <tt>step_x</tt> and <tt>step_y</tt>.
For example, with <tt>world.icon_size</tt> set to <tt>"64x32"</tt>, the
<i>physical</i> tile&mdash;what you would see if you were to look at it
straight down from above&mdash; is considered to be 64x64, so you would need
<tt>pixel_y=64</tt> or <tt>step_y=64</tt> to offset by a whole tile. This
adjustment does not apply to screen objects, <tt>pixel_w</tt>, or
<tt>pixel_z</tt>.

<hr>

<a name=/{notes}/tiled-icons toc="Tiled icons">
<h2>Tiled icons</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/icon>icon</a>
<dd><a href=#/icon/proc>procs (icon)</a>
<dd><a href=#/world/var/map_format>map_format var (world)</a>
<dd><a href=#/world/var/icon_size>icon_size var (world)</a>
<dd><a href=#/{notes}/big-icons>Big icons</a>
</dl>

<p>In BYOND 3.0, any file like a large .bmp would be treated like a regular
icon that had been broken up into several tile-sized icon states. All tiles
then were 32x32 pixels. An image that was 100x100 would therefore take at
least 4x4 tiles to display. The icon was padded to the right and the top with
blank space to become an even multiple of 32x32, and then broken up into
sections. The lower left section was given an icon_state of <tt>"0,0"</tt>,
the next to the right was <tt>"1,0"</tt>, and so on, up to the upper right
which was <tt>"3,3"</tt>. Another icon state, a 32x32 thumbnail of the big
image, was also included.

<p>BYOND 4.0 expanded on this concept by allowing icons to be defined that had
individual graphics bigger than 32x32, and it would break each one up into
tiles just like 3.0 did. If an icon had a state called <tt>"open"</tt> then it
might break down into <tt>"open 0,0"</tt>, <tt>"open 1,0"</tt>, and so on,
while the actual <tt>"open"</tt> state would be a thumbnail image. To show the
whole image, you would have to have a separate atom or overlay for each
individual tile.

<p>In newer versions, breaking big icons into tiles is no longer done by
default. Instead, icons are shown and manipulated in their
<a href=#/{notes}/big-icons>native size</a>. To use the old method of breaking
icons into tiles, set <tt>world.map_format</tt> to <tt>TILED_ICON_MAP</tt>.
This is the default for all projects compiled before version 455.

<p>When using tiled icons, there are some important things to note:

<ul>
  <li>You need to use extra atoms or overlays to show any icon bigger than a
    single tile, where each atom/overlay shows an individual tile-sized piece
    of the big icon.</li>
  <li>The icon_state names of each tile are always the original name followed
    by a space, followed by x,y tile coordinates such as 0,0 or 2,1, so the
    northeast corner of <tt>"flag"</tt> might for instance be
    <tt>"flag 3,2"</tt>. If the original icon_state had no name, the space is
    left out and only the x,y coordinates are used.</li>
  <li>Every icon's size is a multiple of world.icon_size. If an icon of an
    incompatible size is used, it will be padded to the nearest full tile
    size.</li>
  <li><tt>Crop()</tt> and <tt>Scale()</tt> always pad their results to the
    nearest full tile size.</li>
  <li><tt>icon.Insert()</tt> can insert a single-tile icon into a multi-tiled
    big icon using the appropriate icon_state; e.g., inserting into
    <tt>"door 0,0"</tt> will replace the southwest corner of the
    <tt>"door"</tt> state.</li>
  <li>Using the <tt>icon()</tt> proc, you can extract a single tile from a
    multi-tiled big icon.</li>
</ul>

<p>This example shows a big icon being applied to an atom in tiled mode, as
overlays:

<h3>Example:</h3>
<xmp>
// icon is 3 tiles wide by 2 high
icon_state = "0,0"

// A temporary object used for the overlays
var/obj/O = new
O.icon = icon
O.layer = FLOAT_LAYER

for(var/tile_y=0, tile_y<2, ++tile_y)
   for(var/tile_x=0, tile_x<3, ++tile_x)
      if(tile_x && tile_y)
         O.pixel_x = tile_x * 32
         O.pixel_y = tile_y * 32
         O.icon_state = "[tile_x],[tile_y]"
         overlays += O
</xmp>

<hr>

<a name=/{notes}/topdown toc="Topdown maps">
<h2>Topdown maps</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/world/var/map_format>map_format var (world)</a>
<dd><a href=#/world/var/icon_size>icon_size var (world)</a>
<dd><a href=#/client/var/dir>dir var (client)</a>
<dd><a href=#/atom/var/layer>layer var (atom)</a>
<dd><a href=#/atom/var/plane>plane var (atom)</a>
<dd><a href=#/atom/movable/var/screen_loc>screen_loc var (movable atoms)</a>
<dd><a href=#/{notes}/big-icons>Big icons</a>
<dd><a href=#/{notes}/HUD>HUD</a>
<dd><a href=#/{notes}/isometric>Isometric maps</a>
<dd><a href=#/{notes}/side>Side-view maps</a>
<dd><a href=#/{notes}/renderer>Understanding the renderer</a>
</dl>

<p>By default, BYOND displays all maps in top-down format, so
<tt>world.map_format</tt> is set to <tt>TOPDOWN_MAP</tt> unless you say
otherwise. This view means players are looking down on the map, and
"north" corresponds to the top of their screen. (This can be changed by
setting <tt>client.dir</tt>.)

<p>A related map_format, used by older games, is <tt>TILED_ICON_MAP</tt>. This
is also topdown but it handles icons differently.

<p>In this form, the <tt>layer</tt> var behaves exactly as you would expect:
Icons with a lower layer are drawn beneath icons with a higher layer. The only
exception is when you use <a href=#/{notes}/big-icons>big icons</a>, which will
be drawn above any other icons on the same layer. Also an atom's underlays will
be drawn behind it unless their layer is changed, and its overlays will draw in
front of it unless otherwise stated.

<p>Topdown mode also guarantees that <tt>world.view</tt> or <tt>client.view</tt>
will set the exact screen size used by the HUD, except for HUD objects that
appear outside of the normal bounds.

<p>Screen objects (also called the HUD) cannot be intermixed with topdown
icons. They will appear on top of other icons, unless using a lower plane or a
special layer like <tt>BACKGROUND_LAYER</tt>.

<hr>

<a name=/{notes}/TOPDOWN_LAYER>
<h2>TOPDOWN_LAYER</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/atom/var/layer>layer var (atom)</a>
<dd><a href=#/world/var/map_format>map_format var (world)</a>
<dd><a href=#/{notes}/BACKGROUND_LAYER>BACKGROUND_LAYER</a>
<dd><a href=#/{notes}/EFFECTS_LAYER>EFFECTS_LAYER</a>
<dd><a href=#/{{appendix}}/stddef%2edm>stddef.dm file</a>
</dl>

<p>TOPDOWN_LAYER is a special high value that can be added to the regular layer
of any atom. This is only available when using a non-topdown world.map_format,
such as isometric mapping.

<p>The purpose of this value is to make an atom appear as if it belongs in a
top-down map, when using a map_format other than TOPDOWN_MAP or TILED_ICON_MAP.
This can be handy for title screens, or for special battle maps or the inside
of a building in an RPG.

<p>When using this special layer, it should be added to the layer an atom
normally uses. For instance a turf should have a layer of TOPDOWN_LAYER +
TURF_LAYER. Usually you will want one part of the map to have TOPDOWN_LAYER,
and for players to be unable to walk to there from the regular map. Mixing
topdown icons and icons in the normal map_format in view of each other could
look very strange. For safety's sake, the easiest thing to do is to keep them
on separate z layers.

<p>This can be mixed with EFFECTS_LAYER. Anything in TOPDOWN_LAYER will
display on top of EFFECTS_LAYER, and TOPDOWN_LAYER + EFFECTS_LAYER will be
above both.

<p>This can also be mixed with BACKGROUND_LAYER, which takes priority over
everything else.

<p>Images or overlays with FLOAT_LAYER can be left alone. They will
automatically have the same layer as whatever atom they are attached to.

<hr>

<a name=/{notes}/Unicode>
<h2 byondver=513>Unicode</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/DM/text>text</a>
</dl>

<p>BYOND was originally written to handle 8-bit ("ANSI") characters only.
However as time has marched on, Unicode has become ubiquitous for supporting
multiple languages, special characters, and emojis. To adapt to this, BYOND
now supports Unicode.

<p>When ANSI was king, every character was exactly one byte in width, because
the only valid characters were between 1 and 255. (And technically, BYOND
reserved 255 for its own use.) Now, BYOND uses an encoding called UTF-8 to
store characters that can't fit in one byte.

<p>UTF-8 breaks up characters with codes of 128 or higher into multiple
bytes, like so:

<table class=withborder>
<tr><th>Character code</th><th>Size in bytes</th></tr>
<tr><td>0 - 0x7F</td><td>1</td></tr>
<tr><td>0x80 - 0x7FF</td><td>2</td></tr>
<tr><td>0x800 - 0xFFFF</td><td>3</td></tr>
<tr><td>0x10000 - 0x10FFFF</td><td>4</td></tr>
</table>

<h3>Text handling</h3>

<p>Importantly, BYOND's text procs are based on the byte position, not the
character position which may be lower. In other words,
<tt>length("abcd&eacute;fg")</tt> is greater than 7; it's 8, because
<tt>&eacute;</tt> takes up 2 bytes in UTF-8. That also means <tt>f</tt> is at
position 7, not position 6.

<p>Why do the text procs work with byte position instead of character
position? Because ultimately, it's faster. Going by character position would
require counting every byte in a string (at least when it uses UTF-8) until
the right character position was found. This would be detrimental to
performance in most cases.

<p>For the most part, this distinction should be fairly invisible to you.
Most code isn't going to encounter problems, but if you do a lot of text
processing you should be aware of it.

<p>In particular, <a class=code href=#/proc/text2ascii>text2ascii()</a>
returns the Unicode value at a specific position, which may cover several
bytes. If you loop through a string calling this proc for each character,
you'll have to make adjustments for cases when multiple bytes have been
read.

<p>The read-only <tt>[]</tt> index operator also uses byte positions.

<p>If you read a byte or cut text at an inappropriate point, any broken
characters resulting from the cut will be turned into the Unicode
replacement character &#xfffd; which is 0xFFFD.

<h3><tt>_char</tt> procs</h3>

<p>Most of the text handling procs have slower <tt>_char</tt> versions (e.g.,
<tt>copytext_char</tt>) that use character positions instead of byte
positions.

<p>These should be used sparingly if at all; whenever it's possible to use
byte positions, you should. When you do use a <tt>_char</tt> version of a
proc, prefer using <tt>-offset</tt> instead of
<tt>length_char(text)-offset</tt> for positions near the end of the string.
Most text procs allow negative position values that count backwards from the
end, and counting a small number of characters backward is faster than
counting a lot of characters going forward.

<h3>Old code</h3>

<p>Code written in ANSI will be up-converted to UTF-8 by Dream Maker, based on
your current locale when the code is loaded.

<hr>

<a name=/{skin} toc="User interface skins">
<h2>User interface skins</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/proc/winset>winset proc</a>
<dd><a href=#/proc/winget>winget proc</a>
<dd><a href=#/proc/output>output proc</a>
<dd><a href=#/proc/winclone>winclone proc</a>
<dd><a href=#/proc/winexists>winexists proc</a>
<dd><a href=#/proc/winshow>winshow proc</a>
<dd><a href=#/{skin}/control>controls</a>
<dd><a href=#/{skin}/param>parameters</a>
<dd><a href=#/{skin}/macros>macros (skin)</a>
<dd><a href=#/{skin}/commands>client commands</a>
</dl>

<p>BYOND games used to have very limited interface options, all effectively
sharing the same layout. In BYOND 4.0, skins were introduced, allowing
developers more control over the layout.

<p>A skin consists of <a href=#/{skin}/macros>macro sets</a> for
keyboard/gamepad input, menus, and windows and/or panes. All of these are
considered <a href=#/{skin}/control>controls</a> that a game can interact with
via <a class=code href=#/proc/winset>winset()</a>,
<a class=code href=#/proc/winget>winget()</a>,
<a class=code href=#/proc/output>output()</a>, and a few other procs.

<p>About the simplest possible skin is a single window with a single
<a href=#/{skin}/control/map>map control</a>, and a single macro set.

<hr>

<a name=/{skin}/commands>
<h2>client commands</h2>

<p>Several commands can be executed on the client that are not verbs, but
instructions for Dream Seeker. Some of these commands have detailed syntax
described in their own reference entries.

<dl class=codedt>
<dt><a href=#/{skin}/commands/.winset>.winset</a></dt><dd>Sets skin parameters, and includes special syntax for conditional actions.</dd>
<dt byondver=514><a href=#/{skin}/commands/.output>.output</a></dt><dd>Sends output to a control.</dd>
<dt>.options</dt><dd>Shows the Options &amp; Messages box.</dd>
<dt>.reboot</dt><dd>Reboots the world, when Dream Seeker is also acting as a server.</dd>
<dt>.reconnect</dt><dd>Reconnects to the same world.</dd>
<dt>.host</dt><dd>Opens hosting options box, when Dream Seeker is also acting as a server.</dd>
<dt>.profile</dt><dd>Opens the profiler. On a remote connection you may not have access to profile server procs, but you can look at the client and network profilers.</dd>
<dt>.screenshot</dt><dd>Saves a screenshot of the map. If there's more than one map control, the default map is used.</dd>
<dt>.screenshot auto</dt><dd>Saves a screenshot of the map, but does not prompt for a filename. The file will be saved in the client's user directory in BYOND/screenshots.</dd>
<dt>.gamepad-mapping</dt><dd>Opens the gamepad mapping dialog. Helpful if the user's gamepad is not supported or not configured to their liking.</dd>
<dt>.command</dt><dd>Prompts the user to enter a command, which can be one of these commands as well.</dd>
<dt byondver=516><a href=#/{skin}/commands/sound>.sound</a></dt><dd>Play, stop, or update sound.</dd>
<dt>.configure <i>option</i> <i>value</i></dt><dd>Toggle certain Dream Seeker config options, such as <tt>.configure graphics-hwmode on</tt>. The only supported options you can use are <tt>graphics-hwmode</tt>, <tt>sound</tt>, and <tt>delay</tt> which is an old mechanism for dynamically adapting to network delay. (Usually the <tt>delay</tt> is reset to 0.)</dd>
<dt>.quit</dt><dd>Closes Dream Seeker.</dd>
</dl>

<h3>Embedded Winget</h3>

<p>Commands that are initiated by the skin (like button.command, map.on-show,
etc.) have a special syntax that allows you to include information that would
normally require a winget call. By including <tt>[[<i>something</i>]]</tt> in
the command, the double-bracketed text will be replaced by the result of
running a winget on that parameter.

<p>A value of <tt>[[id.parameter]]</tt> will run a winget on the control with
the given ID. Just using <tt>[[parameter]]</tt> will run a winget for the
control that initiated this command. You can also use <tt>parent</tt> in place
of the ID to do something with the parent of the control, or <tt>parent.id</tt>
for access to a sibling control. Position and size parameters can be further
broken down by appending <tt>.x</tt> or <tt>.y</tt> to get at the numbers
directly.

<p>Several commands already support some special cases like <tt>[[*]]</tt> or
<tt>[[width]]</tt> or such, where the special-case values are relevant to the
command. An example is that in <tt>on-size</tt> the value of <tt>[[*]]</tt> is
a size value. The Any macro, gamepad macros, and mouse macros, also support this
syntax; see <a href=#/{skin}/macros>macros</a> for more info.

<p>You can choose how embedded wingets get formatted by following the value with
<tt>as</tt> and a type, such as <tt>[[window.size as string]]</tt>. There are
several types you can use, and different types of parameters get formatted differently:

<dl class="codedt">
<dt>arg</dt><dd>Value is formatted as if it's an argument on a command line. Numbers are left alone; booleans are 0 or 1; size and position have their X and Y values separated by a space; pretty much everything else is DM-escaped and enclosed in quotes.</dd>
<dt>escaped</dt><dd>DM-escape the value as if it's in a quoted string but do not include the quotes. Size and position values both use <tt>,</tt> to separate their X and Y values.</dd>
<dt>string</dt><dd>Value is formatted as a DM-escaped string with surrounding quotes.</dd>
<dt>params</dt><dd>Format value for a URL-encoded parameter list (see <a class=code href=#/proc/list2params>list2params</a>), escaping characters as needed.</dd>
<dt>json</dt><dd>JSON formatting. Numbers are left unchanged; size or position values are turned into objects with x and y items; boolean values are <tt>true</tt> or <tt>false</tt>.</dd>
<dt>json-dm</dt><dd>JSON formatting, but DM-escaped so it can be included in a quoted string. Quotes are not included.</dd>
<dt>raw</dt><dd>Does not change the value's text representation in any way; assumes it's already formatted correctly for the purpose. This is similar to <tt>as arg</tt> but does no escaping and no quotes.</dd>
</dl>

<p>The <tt>arg</tt> type is the default, unless the <tt>[[</tt><i>...</i><tt>]]</tt>
expression has double quotes on both sides, in which case <tt>escaped</tt> is the
default.

<hr>

<a name=/{skin}/commands/.output>
<h2 byondver=514>.output (client command)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/proc/output>output proc</a>
<dd><a href=#/{skin}/commands>client commands</a>
</dl>

<dl><dt><b>Format:</b>
<dd>.output <i>control</i> <i>text</i></dt>
</dl>

<p>Sends output to a control. The text does not need quotes, but any
backslashes, newlines, and tabs should be escaped with a backslash. This works
similarly to the <a href=#/proc/output><tt>output()</tt> proc</a>. If text is
omitted, the control is cleared.

<p>Here is an example of using a map control's
<a class=code href=#/{skin}/params/on-status>on-status</a> event to set a
label rather than using the window's own statusbar.

<pre>.output statuslabel [[* as escaped]]</pre>

<hr>

<a name=/{skin}/commands/.sound>
<h2 byondver=516>.sound (client command)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/proc/sound>sound proc</a>
<dd><a href=#/sound>sound datum</a>
<dd><a href=#/{skin}/commands>client commands</a>
</dl>

<dl><dt><b>Format:</b>
<dd>.sound <i>file</i> <i>options</i></dt>
<dd>.sound none <i>options</i></dt>
</dl>

<p>Plays, stops, or modifies a sound. This command can be used for instance to
play a click sound when using mouse macros, for instance, without waiting for
the server to initiate the sound which would introduce a small delay.

<pre>.sound 'click.ogg'</pre>

<p>The file can be <tt>none</tt> or <tt>-</tt> when updating or stopping a
sound. Any options should be separated by spaces; most are in a
<tt>name=value</tt> format, as seen below.

<p>Supported options are:

<dl class=codedt>
<dt>update</dt><dd>This action is updating a channel rather than playing a new sound. It corresponds to the <a class=code href=#/sound/var/status>SOUND_UPDATE</a> status flag.</dd>
<dt>channel=<i>N</i></dt><dd>Specifies a channel.</dd>
<dt>volume=<i>N</i></dt><dd>Sets the volume.</dd>
<dt>mute<br/>mute=<i>T</i></dt><dd>Mutes the sound; the <tt>update</tt> option is implied.</dd>
<dt>pause<br/>pause=<i>T</i></dt><dd>Pauses the sound; the <tt>update</tt> option is implied.</dd>
<dt>wait</dt><dd>The new sound will queue up in the specified channel, and play after the current sound is done.</dd>
<dt>repeat<br/>repeat=<i>T</i><br/>repeat=once/infinite/rewind</dt><dd>Specifies whether, and how, the sound repeats.</dd>
</dl>
<p class=small>*<i>T</i> represents a true/false value. True values include <tt>true</tt>, <tt>on</tt>, or 1. False would be <tt>false</tt>, <tt>off</tt>, or 0.

<hr>

<a name=/{skin}/commands/.winset>
<h2>.winset (client command)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/proc/winset>winset proc</a>
<dd><a href=#/{skin}/commands>client commands</a>
</dl>

<dl><dt><b>Format:</b>
<dd>.winset "<i>[control.param=value;...]</i>"</dt></dd>
</dl>

<p>Sets skin parameters like the <a href=#/proc/winset><tt>winset()</tt> proc</a>.
You can set more than one parameter by separating them with semicolons.

<p>This command also allows you to use conditional expressions, like so:

<pre>condition ? choice1 : choice2</pre>

<p>The condition is the same as any other parameter you might use in
<tt>.winset</tt>, but instead of setting the parameter, it checks to see if
it's true. If so, then the parameters in <tt>choice1</tt> will be set.
Otherwise, the parameters in <tt>choice2</tt> are set. This example makes the
window background red if bigbutton is checked.

<pre>.winset "bigbutton.is-checked=true ? window.background-color=#ff0000 : window.background-color=none"</pre>

<p>If you want to look for values that don't match instead of values that do,
use <tt>!=</tt> instead of <tt>=</tt> in the condition.

<pre>.winset "bigbutton.is-checked!=false ? window.background-color=#f00 : window.background-color=none"</pre>

<p>The <tt>choice2</tt> item is optional.

<pre>.winset "bigbutton.is-checked=true ? window.background-color=#f00"</pre>

<p>Because it's often useful to do more than one thing at a time,
<tt>choice1</tt> and <tt>choice2</tt> don't have to be just one parameter. You
can use multiple parameters, but they are separated with a space instead of a
semicolon. (A semicolon indicates the conditional expression is over.)

<pre>.winset "bigbutton.is-checked=true ? window.text-color=#fff window.background-color=#f00 : window.text-color=none window.background-color=none"</pre>

<hr>

<a name=/{skin}/control>
<h2>controls (skin)</h2>

<dl><dt><b>Control types:</b>
<dd><a href=#/{skin}/control/bar>Bar</a>: A progress bar or slider
<dd><a href=#/{skin}/control/browser>Browser</a>: A browser
<dd><a href=#/{skin}/control/button>Button</a>: A pushbutton or toggle button
<dd><a href=#/{skin}/control/child>Child</a>: A container holding one or two panes, with a movable splitter
<dd><a href=#/{skin}/control/grid>Grid</a>: For table-like or list-like output
<dd><a href=#/{skin}/control/info>Info</a>: Classic BYOND statpanel
<dd><a href=#/{skin}/control/input>Input</a>: Command input or other user-entered text
<dd><a href=#/{skin}/control/label>Label</a>: Non-interactive text label
<dd><a href=#/{skin}/control/main>Main</a>: A window or pane that holds other controls
<dd><a href=#/{skin}/control/macro>Macro</a>: A <a href=#/{skin}/macros>keyboard/gamepad/mouse macro</a>
<dd><a href=#/{skin}/control/map>Map</a>: The game map display
<dd><a href=#/{skin}/control/menu>Menu</a>: An item in a drop-down menu
<dd><a href=#/{skin}/control/output>Output</a>: Text output
<dd><a href=#/{skin}/control/tab>Tab</a>: A tab control holding multiple panes, showing one at a time
</dl>

<dl class=codedd><dt><b>Parameters common to all controls:</b>
<dd><a href=#/{skin}/param/id>id</a>
<dd><a href=#/{skin}/param/is-disabled>is-disabled</a>
<dd><a href=#/{skin}/param/parent>parent</a>
<dd><a href=#/{skin}/param/saved-params>saved-params</a>
<dd><a href=#/{skin}/param/type>type</a>
<dt><b>Positionable controls only (not Macro or Menu):</b>
<dd><a href=#/{skin}/param/anchor>anchor1, anchor2</a>
<dd><a href=#/{skin}/param/background-color>background-color</a>
<dd><a href=#/{skin}/param/border>border</a>
<dd><a href=#/{skin}/param/drop-zone>drop-zone</a>
<dd><a href=#/{skin}/param/flash>flash</a>
<dd><a href=#/{skin}/param/focus>focus</a>
<dd><a href=#/{skin}/param/font-family>font-family</a>
<dd><a href=#/{skin}/param/font-size>font-size</a>
<dd><a href=#/{skin}/param/font-style>font-style</a>
<dd><a href=#/{skin}/param/is-visible>is-visible</a>
<dd><a href=#/{skin}/param/is-transparent>is-transparent</a>
<dd><a href=#/{skin}/param/on-size>on-size</a>
<dd><a href=#/{skin}/param/pos>pos</a>
<dd><a href=#/{skin}/param/right-click>right-click</a>
<dd><a href=#/{skin}/param/size>size</a>
<dd><a href=#/{skin}/param/text-color>text-color</a>
</dl>

<h3>Creating/Destroying at runtime</h3>

<p>Controls can be created or deleted at runtime. (Only controls you created
during runtime may be deleted.) To create a control, call
<a class=code href=#/proc/winset>winset()</a> using the
<a class=code href=#/{skin}/param/id>id</a> of the new control, and the
parameter list should include <a class=code href=#/{skin}/param/type>type</a>,
<a class=code href=#/{skin}/param/parent>parent</a>, and probably also
<a class=code href=#/{skin}/param/pos>pos</a>,
<a class=code href=#/{skin}/param/size>size</a>, and any
<a href=#/{skin}/param/anchor>anchors</a>.

<p>To delete the control again, set its <tt>parent</tt> to a blank value.

<p>Menu items and macros work similarly, except they have no positional info.
For those, the <a class=code href=#/{skin}/param/name>name</a> parameter is
important when you create them, and you will either need
<a class=code href=#/{skin}/param/command>command</a> or (for macros)
<a class=code href=#/{skin}/param/map-to>map-to</a> to do anything with them.

<hr>

<a name=/{skin}/control/bar>
<h2>bar control (skin)</h2>

<p>A progress bar or interactive slider. This can be made to use several different orientations. Its <tt>value</tt> can be read or set as a percentage from 0 to 100.

<dl class=codedd><dt><b>Bar-specific parameters:</b>
<dd><a href=#/{skin}/param/angle>angle1, angle2</a>
<dd><a href=#/{skin}/param/bar-color>bar-color</a>
<dd><a href=#/{skin}/param/dir>dir</a>
<dd><a href=#/{skin}/param/is-slider>is-slider</a>
<dd><a href=#/{skin}/param/bar-color>on-change</a>
<dd><a href=#/{skin}/param/value>value</a>
<dd><a href=#/{skin}/param/width>width</a>
</dl>

<hr>

<a name=/{skin}/control/browser>
<h2>browser control (skin)</h2>

<p>A browser panel integrated into the skin.

<dl class=codedd><dt><b>Browser-specific parameters:</b>
<dd><a href=#/{skin}/param/auto-format>auto-format</a>
<dd><a href=#/{skin}/param/on-hide>on-hide</a>
<dd><a href=#/{skin}/param/on-show>on-show</a>
<dd><a href=#/{skin}/param/show-history>show-history</a>
<dd><a href=#/{skin}/param/show-url>show-url</a>
<dd><a href=#/{skin}/param/use-title>use-title</a>
</dl>

<p>Browsers are capable of displaying HTML documents, and can also interact with the skin.

<h3>Browsers and popups</h3>

<p>A longstanding behavior of BYOND is the ability to create a new browser window by sending an extra argument to the <a class=code href=#/proc/browse>browse()</a> proc. Since the advent of skins in BYOND 4.0, this behavior was kept. When you create a new browser popup, the window name you specify for the popup is used for the name of a new <a href=#/{skin}/control/main>window control</a>, and within that window there will be a new browser control simply called <tt>browser</tt>.

<p>If you want to interact with the new browser, its full "decorated" <a class=code href=#/{skin}/param/id>id</a> is <tt><i>windowname</i>.browser</tt>.

<h3>Running JavaScript from DM</h3>

<p>Sending <a class=code href=#/proc/output>output()</a> to a browser will send a document to display there, but if you follow the browser's control name with a colon and a function name, you can call a JavaScript function in the document displayed within that browser.

<h3>Example:</h3>
<xmp>
var/list/info = list("name"="fridge", "power"=12)
// send {"name":"fridge","power":12} to a JavaScript function
usr << output(url_encode(json_encode(info)), "mybrowser:myJSfunction")
</xmp>

<p>The text that you send as output will be parsed like URL parameters, where mutliple arguments to the function are separated by <tt>&amp;</tt> or <tt>;</tt>, which is why <a class=code href=#/proc/url_encode>url_encode()</a> is wrapped around the <a class=code href=#/proc/json_encode>json_encode()</a> call in this example.

<h3>More browser options</h3>

<p>These topics cover more advanced uses of the browser control.

<dl>
<dt><a href=#/{skin}/control/browser/winset>winset and winget (JavaScript)</a></dt><dd>Interact with the skin via JavaScript</dd>
<dt><a href=#/{skin}/control/browser/byondStorage>byondStorage (browser control)</a></dt><dd>Provides persistent storage options for small data</dd>
</dl>

<hr>

<a name=/{skin}/control/browser/byondStorage>
<h2>byondStorage (browser control)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/control/browser>browser control (skin)</a>
<dd><a href=#/proc/winset>winset proc</a>
</dl>

<p>A replacement for <tt>localStorage</tt> that can be used to hold
information that can be used in later sessions of the same game. (This must be
enabled via <tt>browser-options</tt> with the
<a href=#/proc/winset><tt>winset()</tt> proc</a>.)

<p>There are three actual storage objects you can use:

<table class=codefirst>
<tr><td>hubStorage</td><td>Stores info that can be shared for all games falling under this same <a href=#/world/var/hub>hub entry</a>.</td></tr>
<tr><td>serverStorage</td><td>Stores info that can be shared for all games using this same server address.</td></tr>
<tr><td>domainStorage</td><td>Same as serverStorage, but ignores the connection port.</td></tr>
</table>

<p>Interacting with these storage objects is done in JavaScript, the same way
you would use <tt>localStorage</tt> or <tt>sessionStorage</tt>.

<p>Note: Technically <tt>localStorage</tt> does work, but because of the way
BYOND handles browser controls it acts more like <tt>sessionStorage</tt> in
practice.

<hr>

<a name=/{skin}/control/browser/winset>
<h2>winset and winget (JavaScript)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/control/browser>browser control (skin)</a>
<dd><a href=#/proc/winset>winset proc</a>
<dd><a href=#/proc/winget>winget proc</a>
</dl>

<p>Browser controls can interact with the skin via JavaScript, by setting <tt>window.location</tt> to a special URL.

<h3>Winset</h3>

<tt>byond://winset?id=<i>[control ID]</i>&<i>[property]</i>=<i>[value]</i>&...</tt>

<p>This works like an ordinary <a class=code href=#/proc/winset>winset()</a> call from the server. If <tt>id</tt> is omitted, it's the same as a winset with a null ID. You can also leave the <tt>id</tt> blank if you use "fully decorated" property names such as <tt>mybutton.is-checked</tt> instead of just <tt>is-checked</tt>.

<p>Any text you use other than letters, numbers, hyphens, commas, and periods should be encoded via the <tt>encodeURIComponent()</tt> function in JavaScript.

<h3>Winget</h3>

<tt>byond://winget?callback=<i>[callback function]</i>&id=<i>[control ID/list]</i>&property=<i>[property/list]</i></tt>

<p>In this winget, the IDs and properties you want can be separated by commas if you want to retrieve more than one. The winget operation works via a callback function you must define in JavaScript. The callback is given just one argument, a JavaScript object with all of the properties you requested. For example, this URL:

<pre>byond://winget?callback=wgcb&id=button1&property=is-checked,size,background-color</pre>

<p>...might send this to the callback function <tt>wgcb</tt>:

<pre>
{
    "is-checked": true,
    "size": {
        "x": 60,
        "y": 20
    },
    "background-color": {
        "value": "none",
        "isDefault": true,
        "red": 236,
        "green": 233,
        "blue": 216,
        "alpha": 255,
        "css": "#ece9d8"
    }
}
</pre>

<p>The property names will be in the same format you would expect from <a class=code href=#/proc/winget>winget()</a>, so when you're looking at multiple elements' properties, you'll get the full names in <tt>id.property</tt> format. The values are always sent back in a convenient form for JavaScript to work with; in the case of size, position, and color these will always be objects.

<p>An optional <tt>control</tt> parameter for the winget call can be used if you want to send data to a callback in a different browser control.</p>

<hr>

<a name=/{skin}/control/button>
<h2>button control (skin)</h2>

<p>A button that can be pressed to run a <a href=#/{skin}/commands>command</a>, or possibly toggled.

<dl class=codedd><dt><b>Button-specific parameters:</b>
<dd><a href=#/{skin}/param/button-type>button-type</a>
<dd><a href=#/{skin}/param/command>command</a>
<dd><a href=#/{skin}/param/group>group</a>
<dd><a href=#/{skin}/param/image>image</a>
<dd><a href=#/{skin}/param/is-checked>is-checked</a>
<dd><a href=#/{skin}/param/is-flat>is-flat</a>
<dd><a href=#/{skin}/param/text>text</a>
</dl>

<hr>

<a name=/{skin}/control/child>
<h2>child control (skin)</h2>

<p>A container that can hold one or two <a href=#/{skin}/control/main>panes</a>. If it holds two panes, a splitter may appear between them. This control can therefore be used to subdivide a window or pane into smaller units.

<dl class=codedd><dt><b>Child-specific parameters:</b>
<dd><a href=#/{skin}/param/is-vert>is-vert</a>
<dd><a href=#/{skin}/param/left>left, top</a>
<dd><a href=#/{skin}/param/lock>lock</a>
<dd><a href=#/{skin}/param/right>right, bottom</a>
<dd><a href=#/{skin}/param/show-splitter>show-splitter</a>
<dd><a href=#/{skin}/param/splitter>splitter</a>
</dl>

<hr>

<a name=/{skin}/control/grid>
<h2>grid control (skin)</h2>

<p>A grid that contains multiple cells that can show various kinds of output data.

<dl class=codedd><dt><b>Grid-specific parameters:</b>
<dd><a href=#/{skin}/param/cell-span>cell-span</a>
<dd><a href=#/{skin}/param/cells>cells</a>
<dd><a href=#/{skin}/param/current-cell>current-cell</a>
<dd><a href=#/{skin}/param/enable-http-images>enable-http-images</a>
<dd><a href=#/{skin}/param/highlight-color>highlight-color</a>
<dd><a href=#/{skin}/param/is-list>is-list</a>
<dd><a href=#/{skin}/param/line-color>line-color</a>
<dd><a href=#/{skin}/param/link-color>link-color</a>
<dd><a href=#/{skin}/param/show-lines>show-lines</a>
<dd><a href=#/{skin}/param/show-names>show-names</a>
<dd><a href=#/{skin}/param/small-icons>small-icons</a>
<dd><a href=#/{skin}/param/style>style</a>
<dd><a href=#/{skin}/param/visited-color>visited-color</a>
</dl>

<p>Sending output to a grid looks like this:

<h3>Example:</h3>
<xmp>
// output to column 3, row 2
winset(usr, "thegrid", "current-cell=3,2")
usr << output("Text", "thegrid")

// or even easier:
usr << output("Text", "thegrid:3,2")

// when is-list is true:
usr << output("5th item", "thegrid:5")
</xmp>

<p>You can output an atom to the grid, which can be clicked, dragged, etc.
However, you should make sure that atom is <i>not</i> temporary and will
persist until you no longer need it, or else the server may recycle it and
the object in the cell will either disappear or be impossible to interact
with anymore.

<p>There are some limitations to output in grid controls:

<ul>
<li>Only one character style (font, color, bold, etc.) may appear within a single cell.</li>
<li>A cell is either a link, or not.
<li>One image is allowed per cell.</li>
<li>A cell can hold an object (atom), sent to it via the <a href=#/proc/output><tt>output()</tt> proc</a>, which can be clicked, dragged, etc.; it will not act as a link.</li>
<li>The same margin is used all around the cell, not different margins for left, right, top, bottom.</li>
<li>There will always be a 1-pixel space for grid lines, whether they're shown or not.</li>
</ul>

<hr>

<a name=/{skin}/control/info>
<h2>info control (skin)</h2>

<p>The classic BYOND statpanel, which contains both stat and verb tabs. This
is technically a 3-column grid with a variable number of rows.

<dl class=codedd><dt><b>Info-specific parameters:</b>
<dd><a href=#/{skin}/param/allow-html>allow-html</a>
<dd><a href=#/{skin}/param/highlight-color>highlight-color</a>
<dd><a href=#/{skin}/param/multi-line>multi-line</a>
<dd><a href=#/{skin}/param/on-hide>on-hide</a>
<dd><a href=#/{skin}/param/on-show>on-show</a>
<dd><a href=#/{skin}/param/on-tab>on-tab</a>
<dd><a href=#/{skin}/param/prefix-color>prefix-color</a>
<dd><a href=#/{skin}/param/suffix-color>suffix-color</a>
<dd><a href=#/{skin}/param/tab-background-color>tab-background-color</a>
<dd><a href=#/{skin}/param/tab-font>tab-font-family, tab-font-size, tab-font-style</a>
<dd><a href=#/{skin}/param/tab-text-color>tab-text-color</a>
</dl>

<p>Output to a statpanel is done via the <a class=code href=#/proc/stat>stat()</a>
and <a class=code href=#/proc/statpanel>statpanel()</a> procs, during
<a class=code href=#/atom/proc/stat>mob/Stat()</a>.

<p>The same limitations that apply to <a href=#/{skin}/control/grid>grid</a>
output apply here.

<hr>

<a name=/{skin}/control/input>
<h2>input control (skin)</h2>

<p>A text box into which the user can type. By default this is used for sending <a href=#/{skin}/commands>client commands</a>, but it can be used for other purposes as well.

<dl class=codedd><dt><b>Input-specific parameters:</b>
<dd><a href=#/{skin}/param/command>command</a>
<dd><a href=#/{skin}/param/is-password>is-password</a>
<dd><a href=#/{skin}/param/multi-line>multi-line</a>
<dd><a href=#/{skin}/param/no-command>no-command</a>
<dd><a href=#/{skin}/param/on-blur>on-blur</a>
<dd><a href=#/{skin}/param/on-focus>on-focus</a>
<dd><a href=#/{skin}/param/text>text</a>
</dl>

<p>Note that when in "standard" mode of accepting user commands, built-in verbs like <tt>.click</tt>, or local commands like <tt>.winset</tt>, are not accepted when typed in. This kind of command can still be entered manually through the Client menu of the Options &amp; Messages window.

<hr>

<a name=/{skin}/control/label>
<h2>label control (skin)</h2>

<p>A text label that appears on the skin.

<dl class=codedd><dt><b>Label-specific parameters:</b>
<dd><a href=#/{skin}/param/align>align</a>
<dd><a href=#/{skin}/param/allow-html>allow-html</a>
<dd><a href=#/{skin}/param/image>image</a>
<dd><a href=#/{skin}/param/image-mode>image-mode</a>
<dd><a href=#/{skin}/param/keep-aspect>keep-aspect</a>
<dd><a href=#/{skin}/param/text>text</a>
<dd><a href=#/{skin}/param/text-wrap>text-wrap</a>
</dl>

<hr>

<a name=/{skin}/control/macro>
<h2>macro control (skin)</h2>

<p>A <a href=#/{skin}/macros>keyboard/gamepad/mouse macro</a>, usually designed to run a <a href=#/{skin}/commands>command</a>. The control is a means of interacting with the macro as an object, allowing some of its properties to be changed at runtime.

<dl class=codedd><dt><b>Macro-specific parameters:</b>
<dd><a href=#/{skin}/param/command>command</a>
<dd><a href=#/{skin}/param/map-to>map-to</a>
<dd><a href=#/{skin}/param/name>name</a>
</dl>

<hr>

<a name=/{skin}/control/main>
<h2>main control (skin)</h2>

<p>A container for other controls. The Main control takes two forms: a window or a pane. 

<p>A window exists independently and can be moved around on the screen. A pane has to be used within another container control such as a <a href=#/{skin}/control/child>Child</a> or <a href=#/{skin}/control/tab>Tab control</a>.

<dl class=codedd><dt><b>Main-specific parameters:</b>
<dd><a href=#/{skin}/param/icon>icon</a>
<dd><a href=#/{skin}/param/image>image</a>
<dd><a href=#/{skin}/param/image-mode>image-mode</a>
<dd><a href=#/{skin}/param/inner-size>inner-pos</a>
<dd><a href=#/{skin}/param/inner-size>inner-size</a>
<dd><a href=#/{skin}/param/is-pane>is-pane</a>
<dd><a href=#/{skin}/param/keep-aspect>keep-aspect</a>
<dd><a href=#/{skin}/param/outer-pos>outer-pos</a>
<dd><a href=#/{skin}/param/outer-size>outer-size</a>
<dd><a href=#/{skin}/param/title>title</a>
<dd><a href=#/{skin}/param/on-status>on-status</a>
<dt><b>Windows only:</b>
<dd><a href=#/{skin}/param/alpha>alpha</a>
<dd><a href=#/{skin}/param/can-close>can-close</a>
<dd><a href=#/{skin}/param/can-minimize>can-minimize</a>
<dd><a href=#/{skin}/param/can-resize>can-resize</a>
<dd><a href=#/{skin}/param/is-fullscreen>is-fullscreen</a>
<dd><a href=#/{skin}/param/is-maximized>is-maximized</a>
<dd><a href=#/{skin}/param/is-minimized>is-minimized</a>
<dd><a href=#/{skin}/param/macro>macro</a>
<dd><a href=#/{skin}/param/menu>menu</a>
<dd><a href=#/{skin}/param/on-close>on-close</a>
<dd><a href=#/{skin}/param/screen-pos>screen-pos</a>
<dd><a href=#/{skin}/param/screen-size>screen-size</a>
<dd><a href=#/{skin}/param/statusbar>statusbar</a>
<dd><a href=#/{skin}/param/titlebar>titlebar</a>
<dd><a href=#/{skin}/param/transparent-color>transparent-color</a>
<dt><b>Panes only:</b>
<dd><a href=#/{skin}/param/can-scroll>can-scroll</a>
</dl>

<p>The font parameters have no impact on a window's statusbar or titlebar; those are drawn by the operating system.

<hr>

<a name=/{skin}/control/map>
<h2>map control (skin)</h2>

<p>A map that will display icons from the game.

<dl class=codedd><dt><b>Map-specific parameters:</b>
<dd deprecated><a href=#/{skin}/param/icon-size>icon-size</a>
<dd><a href=#/{skin}/param/letterbox>letterbox</a>
<dd><a href=#/{skin}/param/on-hide>on-hide</a>
<dd><a href=#/{skin}/param/on-show>on-show</a>
<dd><a href=#/{skin}/param/style>style</a>
<dd><a href=#/{skin}/param/text-mode>text-mode</a>
<dd><a href=#/{skin}/param/view-size>view-size</a>
<dd><a href=#/{skin}/param/zoom>zoom</a>
<dd><a href=#/{skin}/param/zoom-mode>zoom-mode</a>
</dl>

<hr>

<a name=/{skin}/control/menu>
<h2>menu control (skin)</h2>

<p>A menu item, that when activate will run a <a href=#/{skin}/commands>command</a>.

<dl class=codedd><dt><b>Menu-specific parameters:</b>
<dd><a href=#/{skin}/param/can-check>can-check</a>
<dd><a href=#/{skin}/param/command>command</a>
<dd><a href=#/{skin}/param/group>group</a>
<dd><a href=#/{skin}/param/index>index</a>
<dd><a href=#/{skin}/param/is-checked>is-checked</a>
<dd><a href=#/{skin}/param/name>name</a>
</dl>

<hr>

<a name=/{skin}/control/output>
<h2>output control (skin)</h2>

<p>Displays text output.

<dl class=codedd><dt><b>Output-specific parameters:</b>
<dd><a href=#/{skin}/param/enable-http-images>enable-http-images</a>
<dd><a href=#/{skin}/param/image>image</a>
<dd><a href=#/{skin}/param/legacy-size>legacy-size</a>
<dd><a href=#/{skin}/param/link-color>link-color</a>
<dd><a href=#/{skin}/param/max-lines>max-lines</a>
<dd><a href=#/{skin}/param/style>style</a>
<dd><a href=#/{skin}/param/visited-color>visited-color</a>
</dl>

<hr>

<a name=/{skin}/control/tab>
<h2>tab control (skin)</h2>

<p>A tab control, where each tab holds a different <a href=#/{skin}/control/main>pane</a>.

<dl class=codedd><dt><b>Tab-specific parameters:</b>
<dd><a href=#/{skin}/param/current-tab>current-tab</a>
<dd><a href=#/{skin}/param/multi-line>multi-line</a>
<dd><a href=#/{skin}/param/on-tab>on-tab</a>
<dd><a href=#/{skin}/param/tabs>tabs</a>
</dl>

<hr>

<a name=/{skin}/macros>
<h2>macros (skin)</h2>

<p>Macros are used to convert keyboard and gamepad events into actions. There
are two ways this works: A macro can run a command, or in some cases (such as
gamepad controls) it can be used to remap one control to another.

<p>A collection of macros is called a macro set, and the window currently in
use defines which macro set will be used via its
<a class=code href=#/{skin}/param/macro>macro</a> parameter.

<p>Macros can be changed at runtime. If a macro does not have an
<a class=code href=#/{skin}/param/id>id</a>, you can refer to it by its key
combination (<a class=code href=#/{skin}/param/name>name</a>). If you have a
macro set named <tt>macro1</tt> and have a <tt>Ctrl+E</tt> macro for instance,
you could use <a class=code href=#/proc/winset>winset()</a> with
<tt>"macro1.Ctrl+E"</tt>. See the <a href=#/{skin}/control/macro>Macro
control</a> for information on which parameters you can change with
<tt>winset()</tt>.

<p>The <tt>name</tt> of the macro is actually the full key combination as it
would appear in the macro editor, like <tt>CTRL+E</tt>, <tt>Space+REP</tt>, or
<tt>Alt+Shift+F1</tt>. This is not case-specific and it doesn't matter where
you put modifiers like <tt>CTRL+</tt>, <tt>SHIFT+</tt>, etc.

<h3 byondver=511>The Any macro</h3>

<p>Oftentimes it's desirable to keep track of key presses yourself rather than
have a hundred different macros defined. BYOND makes this possible via the
<tt>Any</tt> and <tt>Any+UP</tt> macros, which respond to any key or gamepad
button. <tt>UP</tt> is the only allowed modifier for this macro, since other
modifier keys are handled by this same macro.

<p>Typically, you will want to use <a class=code href=#/verb/set/instant>set
instant=1</a> on the verbs that will be tied to the Any macro, so that
keyboard input doesn't queue up and lag behind.

<p>In the <a class=code href=#/{skin}/param/command>command</a> that goes with
this macro, <tt>[[*]]</tt> will be replaced with the name of the key or gamepad
button that was pressed/released. (See "Embedded Winget" in
<a href=#/{skin}/commands>client commands</a> for more details on the
<tt>[[...]]</tt> format.)

<h3 byondver=511>Mapping</h3>

<p>The <a class=code href=#/{skin}/param/map-to>map-to</a> parameter is used
by <b>mappings</b>, which are like macros but are used to convert gamepad
inputs easily and quickly to keyboard inputs. E.g., <tt>GamepadLeft</tt> can
map to <tt>West</tt> which is the left arrow key. A set of default mappings
will be added automatically at runtime if you don't include any gamepad
mapping in your project.

<h3 byondver=511>Gamepads</h3>

<p>BYOND will support up to four gamepads, and breaks up their input into the
following categories:

<ul>
<li><b>Buttons:</b> Buttons on the controller that are either pressed or not pressed.</li>
<li><b>Directions:</b> Directions pressed on the D-pad, which act like buttons. Diagonals are also included.</li>
<li><b>D-pad:</b> The D-pad itself, which can be used to read a <a class=code href=#/atom/var/dir>dir</a> number.</li>
<li><b>Analog:</b> The analog sticks (BYOND supports left and right).</li>
</ul>

<p>See the list of available macros below for information on how to harness
these inputs.

<p>To let a user configure their gamepad, you need to call the client-side
<tt>.gamepad-mapping</tt> <a href=#/{skin}/commands>command</a>. Or, if they
have access to the Options &amp; Messages window and Dream Seeker's default
menus, they can reach it from there. However it's a good idea to make this
easy for them to find. Several common gamepads are already known by BYOND.

<p>There is also the <tt>GamepadRaw</tt> macro, which is similar
to <tt>Any</tt> in some ways and will avoid doing any processing (e.g.
checking for dead zones on the analog sticks) so you can handle all input
yourself. <tt>GamepadRaw</tt> does not rely on BYOND's controller
configuration, so it will not, for instance, know that button 0 should be
<tt>GamepadFace1</tt>. See below for more information on how to use this
macro.

<h3 byondver=514>Mouse macros</h3>

<p>You can add macros (not local player-defined ones) for any of the mouse
input commands, thereby bypassing the normal mouse verbs. This can be helpful
for designing custom setups where you don't want to have to parse the normal
parameter string that provides most of the info, and instead want to provide
data directly to the verb. You will want <tt>set instant=1</tt> on any such
verb.

<p>Mouse macro commands use the <tt>[[...]]</tt> syntax to embed values, just
like <a href=#/{skin}/commands>embedded wingets</a>. These are the values you
can include in a mouse macro:

<table class="macro_info">
<tr><th>Embedded keyword</th><th>Meaning</th></tr>
<tr><td><tt>action</tt></td><td>Name of the mouse action (e.g. MouseDown, MouseMove, etc.).</td></tr>
<tr><td><tt>src</tt></td><td>Object the mouse is touching, or dragging/dropping.</td></tr>
<tr><td><tt>loc</tt></td><td>Turf or statpanel that <tt>src</tt> is over; in a drag-drop you should split this into <tt>src.loc</tt> and <tt>over.loc</tt>.</td></tr>
<tr><td><tt>button</tt></td><td>Mouse button used for this action, if any: <tt>left</tt>, <tt>middle</tt>, or <tt>right</tt>.</td></tr>
<tr><td><tt>drag</tt></td><td>Mouse button currently used for dragging.</td></tr>
<tr><td><tt>buttons</tt></td><td>Mouse buttons currently down or involved in this action, separated by commas.</td></tr>
<tr><td><tt>keys</tt></td><td>Modifier keys currently held (<tt>shift</tt>, <tt>ctrl</tt>, <tt>alt</tt>), separated by commas.</td></tr>
<tr><td><tt>over</tt></td><td>Object the mouse is over in a drag/drop operation.</td></tr>
<tr><td><tt>id</tt></td><td>Control ID; in a drag-drop you should split this into <tt>src.id</tt> and <tt>over.id</tt>.</td></tr>
<tr><td><tt>icon</tt></td><td>The icon offset (starting from 1,1 at the lower left) where the mouse action occurred.<sup>*</sup></td></tr>
<tr><td><tt>tile</tt></td><td>The tile where the mouse action occurred, if relevant.<sup>*</sup></td></tr>
<tr><td><tt>vis</tt></td><td>Pixel coordinates relative to the icon's position on screen (same as <tt>icon</tt> but without taking transform into account).<sup>*</sup></td></tr>
<tr><td><tt>screen_loc</tt></td><td>The regular <tt>screen_loc</tt> cordinate string.<sup>*</sup></td></tr>
<tr><td><tt>screen</tt></td><td><tt>screen_loc</tt> coordinates but entirely in pixels starting at 0,0 from lower left.<sup>*</sup></td></tr>
<tr><td><tt>screen_tile</tt></td><td><tt>screen_loc</tt> coordinates but only the tile number starting at 1,1.<sup>*</sup></td></tr>
<tr><td><tt>screen_offset</tt></td><td><tt>screen_loc</tt> coordinates but only the pixel offset from the tile, starting at 0,0.<sup>*</sup></td></tr>
<tr><td><tt>delta</tt></td><td>Wheel changes in a mouse wheel command.<sup>*</sup></td></tr>
<tr><td><tt>left</tt>, <tt>right</tt>, <tt>middle</tt></td><td>1 if this button is down or involved in this action, 0 otherwise</td></tr>
<tr><td><tt>shift</tt>, <tt>ctrl</tt>, <tt>alt</tt></td><td>1 if this modifier key is held, 0 otherwise</td></tr>
<tr><td><tt>link</tt></td><td>1 if the mouse is over a maptext link, 0 otherwise</td></tr>
<tr><td><tt>cell</tt></td><td>Grid cell involved in a mouse action. In a drag/drop action, <tt>src.cell</tt> is the dragging cell and <tt>over.cell</tt> is the drop cell.</td></tr>
<tr><td><tt>drag-cell</tt></td><td>Alias for <tt>src.cell</tt>.</td></tr>
<tr><td><tt>drop-cell</tt></td><td>Alias for <tt>over.cell</tt>.</td></tr>
<tr><td colspan=2><sup>*</sup> Coordinate values are comma-separated, but you can follow them with <tt>.x</tt> or <tt>.y</tt> to get the individual X and Y numbers.</td></tr>
</table>

<p>An example mouse macro command might look like this:

<blockquote><pre>my-mousedown-verb [[src]] [[button]] "keys=[[keys as params]];drag=[[drag as params]]"</pre></blockquote>

<p>And the verb to go with it looks like this:

<xmp>
client
    // "in src" is the same as "in usr.client" here
    verb/my_mousedown_verb(object as anything in src, button as text, params as text)
</xmp>

<p>In the example, the <tt>src</tt> value is a reference such as you would get
with the <a href=#/proc/ref><tt>ref()</tt> proc</a>. It can be used as a verb
argument directly and won't be enclosed by quotes by default. The <tt>button</tt>
value is a string and the default formatting will put quotes around it. The
<tt>keys</tt> and <tt>drag</tt> values were given the <tt>as params</tt> format
specifier so they would behave as part of a <a href=#/proc/list2params>parameter
list</a>.

<p>In drag/drop actions, you can precede any value with <tt>src</tt> or
<tt>over</tt> if there may be different information for the dragged object and
the mouseover object/location. This also applies to things like <tt>keys</tt>,
which by default will be the currently held keys but you can use <tt>src.keys</tt>
to refer to the values from when the drag began.

<h3>Available macros</h3>

<p>This is a list of all keys and gamepad events that can be used in macros.

<table class="macro_info">
  <thead>
    <tr><td class="macro_head" colspan=2><b>Macro modifiers</b> are part of the macro name, and control the conditions in which the macro will fire.</td></tr>
    <tr><th>Modifier</th><th>Meaning</th></tr>
  </thead>
  <tbody>
  <tr><td><tt>SHIFT+</tt></td><td>This macro only counts if either Shift key is pressed.</td></tr>
  <tr><td><tt>CTRL+</tt></td><td>This macro only counts if either Ctrl key is pressed.</td></tr>
  <tr><td><tt>ALT+</tt></td><td>This macro only counts if either Alt key is pressed.</td></tr>
  <tr><td><tt>+REP</tt></td><td>If a key/button is held down, this macro repeats.</td></tr>
  <tr><td><tt>+UP</tt></td><td>This macro fires when the key/button is released.</td></tr>
  </tbody>

  <thead>
    <tr><td class="macro_head" colspan=2><b>Keyboard keys</b> are the garden-variety macros. (This list is abridged to exclude keys probably no one has.)</td></tr>
    <tr><th>Key</th><th>Description</th></tr>
  </thead>
  <tbody>
    <tr><td><tt>A</tt> - <tt>Z</tt></td><td>Letter key</td></tr>
    <tr><td><tt>0</tt> - <tt>9</tt></td><td>Number key</td></tr>
    <tr><td><tt>Numpad0</tt> - <tt>Numpad9</tt></td><td>Numpad numbers</td></tr>
    <tr><td><tt>North</tt></td><td>Up arrow</td></tr>
    <tr><td><tt>South</tt></td><td>Down arrow</td></tr>
    <tr><td><tt>East</tt></td><td>Right arrow</td></tr>
    <tr><td><tt>West</tt></td><td>Left arrow</td></tr>
    <tr><td><tt>Northwest</tt></td><td>Home key</td></tr>
    <tr><td><tt>Southwest</tt></td><td>End key</td></tr>
    <tr><td><tt>Northeast</tt></td><td>Page Up key</td></tr>
    <tr><td><tt>Southeast</tt></td><td>Page Down key</td></tr>
    <tr><td><tt>Center</tt></td><td>Center key (numpad)</td></tr>
    <tr><td><tt>Return</tt></td><td>Enter / Return key</td></tr>
    <tr><td><tt>Escape</tt></td><td>Esc key</td></tr>
    <tr><td><tt>Tab</tt></td><td>Tab key</td></tr>
    <tr><td><tt>Space</tt></td><td>Space bar</td></tr>
    <tr><td><tt>Back</tt></td><td>Backspace key</td></tr>
    <tr><td><tt>Insert</tt></td><td>Ins key</td></tr>
    <tr><td><tt>Delete</tt></td><td>Del key</td></tr>
    <tr><td><tt>Pause</tt></td><td>Pause key</td></tr>
    <tr><td><tt>Snapshot</tt></td><td>Snapshot / Print Screen key</td></tr>
    <tr><td><tt>LWin</tt></td><td>Left Windows key</td></tr>
    <tr><td><tt>RWin</tt></td><td>Right Windows key</td></tr>
    <tr><td><tt>Apps</tt></td><td>Apps key</td></tr>
    <tr><td><tt>Multiply</tt></td><td>Multiply key</td></tr>
    <tr><td><tt>Add</tt></td><td>Add key</td></tr>
    <tr><td><tt>Subtract</tt></td><td>Subtract key</td></tr>
    <tr><td><tt>Divide</tt></td><td>Divide / Slash key</td></tr>
    <tr><td><tt>Separator</tt></td><td>Separator / Backslash key</td></tr>
    <tr><td><tt>Shift</tt></td><td>Shift key (when not used as a modifier)</td></tr>
    <tr><td><tt>Ctrl</tt></td><td>Ctrl key (when not used as a modifier)</td></tr>
    <tr><td><tt>Alt</tt></td><td>Alt key (when not used as a modifier)</td></tr>
    <tr><td><tt>VolumeMute</tt></td><td>Mute key</td></tr>
    <tr><td><tt>VolumeUp</tt></td><td>Volume up key</td></tr>
    <tr><td><tt>VolumeDown</tt></td><td>Volume down key</td></tr>
    <tr><td><tt>MediaPlayPause</tt></td><td>Play/pause media key</td></tr>
    <tr><td><tt>MediaStop</tt></td><td>Stop media key</td></tr>
    <tr><td><tt>MediaNext</tt></td><td>Next track key</td></tr>
    <tr><td><tt>MediaPrev</tt></td><td>Previous track key</td></tr>
  </tbody>

  <thead>
    <tr><td class="macro_head" colspan=2><b>Special macros</b></td></tr>
  </thead>
  <tbody>
    <tr><td><tt><b>Any</b></tt></td><td>A special macro that can run a command on press/release of any key or gamepad button. <tt>UP</tt> is the only modifier allowed. In the command, <tt>[[*]]</tt> is replaced with the key/button name.<sup>*</sup></td></tr>
    <tr><td><tt><b>GamepadRaw</b></tt><sup>*</sup></td><td>Captures raw input from a gamepad, without regard to the adjustments done by the Gamepad Setup dialog. In the command, <tt>[[id]]</tt> is replaced by the name of the button or axis changed ("Button0" through "Button15" and "Axis0" through "Axis11"), <tt>[[value]]</tt> is replaced with the value of the button or axis, and <tt>[[*]]</tt> is equivalent to <tt>[[id]] [[value]]</tt>.</td></tr>
    <tr><td colspan=2 class="macro_foot">
      <p><sup>*</sup> If no gamepad mappings are included in a game's interface, the default mappings are used instead, which will map the Dpad buttons to the arrow keys. This will cause the Any macro to register both a gamepad directional button and the mapped key on the same press. If you plan on using macros to capture gamepad input, you may wish instead to map any one of the directional buttons to "None", which will override the default gamepad mappings completely.</p>
    </td></tr>
  </tbody>

  <thead>
    <tr><td class="macro_head" colspan=2><b>Gamepad buttons</b><sup>&dagger;</sup> can use another gamepad button as a modifier (but not CTRL, SHIFT, ALT), and can be mapped to one or two keyboard keys or mouse buttons.</td></tr>
    <tr><th>Button</th><th>Description</th></tr>
  </thead>
  <tbody>
    <tr><td><tt>GamepadFace1</tt></td><td>A (Xbox), X (PS), bottom of diamond</td></tr>
    <tr><td><tt>GamepadFace2</tt></td><td>B (Xbox), Circle (PS), right of diamond</td></tr>
    <tr><td><tt>GamepadFace3</tt></td><td>X (Xbox), Square (PS), left of diamond</td></tr>
    <tr><td><tt>GamepadFace4</tt></td><td>Y (Xbox), Triangle (PS), top of diamond</td></tr>
    <tr><td><tt>GamepadL1</tt></td><td>Left top shoulder</td></tr>
    <tr><td><tt>GamepadR1</tt></td><td>Right top shoulder</td></tr>
    <tr><td><tt>GamepadL2</tt></td><td>Left bottom shoulder</td></tr>
    <tr><td><tt>GamepadR2</tt></td><td>Right bottom shoulder</td></tr>
    <tr><td><tt>GamepadSelect</tt></td><td>Select / Back</td></tr>
    <tr><td><tt>GamepadStart</tt></td><td>Start / Forward</td></tr>
    <tr><td><tt>GamepadL3</tt></td><td>Left analog click</td></tr>
    <tr><td><tt>GamepadR3</tt></td><td>Right analog click</td></tr>
    <tr><td class="macro_subhead" colspan=2>Directional buttons: only one can pressed at a time, and the diagonal buttons are virtual.</tr>
    <tr><td><tt>GamepadUp</tt></td><td>Up button</td></tr>
    <tr><td><tt>GamepadDown</tt></td><td>Down button</td></tr>
    <tr><td><tt>GamepadLeft</tt></td><td>Left button</td></tr>
    <tr><td><tt>GamepadRight</tt></td><td>Right button</td></tr>
    <tr><td><tt>GamepadUpLeft</tt></td><td>Up+left virtual button</td></tr>
    <tr><td><tt>GamepadUpRight</tt></td><td>Up+right virtual button</td></tr>
    <tr><td><tt>GamepadDownLeft</tt></td><td>Down+left virtual button</td></tr>
    <tr><td><tt>GamepadDownRight</tt></td><td>Down+right virtual button</td></tr>
  </tbody>

  <thead>
    <tr><td class="macro_head" colspan=2><b>Gamepad analog sticks</b><sup>&dagger;</sup> can have commands and/or map to <tt>GamepadDir</tt>, <tt>GamepadDir4</tt>, or <tt>Mouse</tt>. They can use a gamepad button as a modifier. In a command, <tt>[[x]]</tt> and <tt>[[y]]</tt> are replaced by coordinates, and <tt>[[*]]</tt> is replaced by both with a comma for separation.</td></tr>
  </thead>
  <tbody>
    <tr><td><tt>GamepadLeftAnalog</tt></td><td>Left analog stick</td></tr>
    <tr><td><tt>GamepadRightAnalog</tt></td><td>Left analog stick</td></tr>
  </tbody>

  <thead>
    <tr><td class="macro_head" colspan=2><b>Gamepad Dpads</b><sup>&dagger;&Dagger;</sup> can have commands or are used as mapping targets for analog sticks. A gamepad button can be used as a modifier. In a command, <tt>[[*]]</tt> is replaced by a direction number, which can be 0.</td></tr>
  </thead>
  <tbody>
    <tr><td><tt>GamepadDir</tt></td><td>Dpad, converted to one of the eight standard directions.</td></tr>
    <tr><td><tt>GamepadDir4</tt></td><td>Dpad, converted to a cardinal direction.</td></tr>
    <tr><td colspan=2 class="macro_foot">
      <p><sup>&dagger;</sup> All of the gamepad macros defined above apply to the first gamepad. BYOND can now support up to four gamepads, and you can replace Gamepad in the names above with Gamepad2, Gamepad3, or Gamepad4 to access them. Each gamepad also has its own raw macro (i.e., Gamepad2Raw).</p>
      <p><sup>&Dagger;</sup> If you use a Dpad macro like GamepadDir as a <tt>map-to</tt> target, you don't have to specify gamepad 2-4 in map-to; the mapping will automatically know that when Gamepad2LeftAnalog is mapped to GamepadDir, it means Gamepad2Dir.</p>
    </td></tr>
  </tbody>

  <thead>
    <tr><td class="macro_head" colspan=2 byondver=514><b>Mouse macros</b> can have commands but not be used as mapping targets.</td></tr>
  </thead>
  <tbody>
    <tr><td><tt>MouseDown</tt></td><td>Mouse button pressed (replaces MouseDown verb)</td></tr>
    <tr><td><tt>MouseUp</tt></td><td>Mouse button released (replaces MouseUp verb)</td></tr>
    <tr><td><tt>MouseClick</tt></td><td>A click action has occurred (replaces Click verb)</td></tr>
    <tr><td><tt>MouseDblClick</tt></td><td>A double-click action has occurred (replaces DblClick verb)</td></tr>
    <tr><td><tt>MouseOver</tt></td><td>Mouse has moved over a new icon or entered/exited a control (replaces MouseEntered and MouseExited verbs)</td></tr>
    <tr><td><tt>MouseMove</tt></td><td>Mouse has moved to a new pixel of the same icon (replaces MouseMove verb)</td></tr>
    <tr><td><tt>MouseDrag</tt></td><td>Mouse has begin dragging or is over a new drop target (replaces MouseDrag verb)</td></tr>
    <tr><td><tt>MouseDragMove</tt></td><td>Mouse is dragging and is over a new pixel of the same drop target (replaces MouseDrag verb in situations where MouseMove would apply)</td></tr>
    <tr><td><tt>MouseDrop</tt></td><td>Mouse drag has been released over a target (replaces MouseDrop verb)</td></tr>
    <tr><td><tt>MouseWheel</tt></td><td>A wheel movement has occurred (replaces MouseWheel verb)</td></tr>
  </tbody>

  <thead>
    <tr><td class="macro_head" colspan=2><b>Mouse targets</b> can only be used as mapping targets for another macro.</td></tr>
  </thead>
  <tbody>
    <tr><td><tt>Mouse</tt></td><td>The mouse cursor, mappable by a gamepad analog stick.</td></tr>
    <tr><td><tt>MouseLeftButton</tt></td><td>Left button, mappable by a gamepad button.</td></tr>
    <tr><td><tt>MouseRightButton</tt></td><td>Right button, mappable by a gamepad button.</td></tr>
    <tr><td><tt>MouseMiddleButton</tt></td><td>Middle button, mappable by a gamepad button.</td></tr>
  </tbody>

</table>

<hr>

<a name=/{skin}/param>
<h2>parameters (skin)</h2>

<p>Controls can be interacted with via <a class=code href=#/proc/winset>winset()</a>
and <a class=code href=#/proc/winset>winget()</a> to change or read various
parameters.

<p>Parameters come in a few different formats:

<ul>
<li>Boolean: <tt>true</tt> or <tt>false</tt></li>
<li>Numeric: any number, sometimes allowing decimal or negative numbers</li>
<li>String: text</li>
<li>Position: <i>x</i><tt>,</tt><i>y</i></li>
<li>Size: <i>width</i><tt>x</tt><i>height</i></li>
<li>Enumerated: one of several text choices, sometimes accepting numbers or true/false values as shortcuts</li>
</ul>

<p>The list of <a href=#/{skin}/control>all controls</a> which shows which
parameters are universal, and each individual control type lists additional
parameters that apply to that type specifically.

<p>Note: In any parameter's "Applies to" section, "all" refers to positionable
controls only, not Macro or Menu controls. Macro and Menu will be listed
separately if supported.

<hr>

<a name=/{skin}/param/align>
<h2>align parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/allow-html>allow-html parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/label>Label</a>
</dl>

<dl><dt><b>Possible values:</b>
<dd>center
<dd>left
<dd>right
<dd>top
<dd>bottom
<dd>top-left
<dd>top-right
<dd>bottom-left
<dd>bottom-right
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>center
</dl>

<p>Default alignment of text/image, both horizontal and vertical.

<p>A BYOND direction flag like <tt>WEST</tt> may be assigned to this parameter, or 0 for center alignment.

<hr>

<a name=/{skin}/param/allow-html>
<h2>allow-html parameter (skin)</h2>

<dl><dt><b>Applies to:</b>
<dd byondver=507><a href=#/{skin}/control/label>Label</a>
<dd><a href=#/{skin}/control/info>Info</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>Info control: Allow HTML tags to be used in <a class=code href=#/proc/stat>stat()</a> info. The same limitations apply as to the <a href=#/{skin}/control/grid>Grid control</a>.

<p>Label control: Currently, the label control will not actually use the HTML; it will simply strip it out. Full support may appear in a later version.

<hr>

<a name=/{skin}/param/alpha>
<h2>alpha parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/transparent-color>transparent-color parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (window only)
</dl>

<dl><dt><b>Format:</b>
<dd>number
</dl>

<dl><dt><b>Default value:</b>
<dd>255
</dl>

<p>Opacity of the window, from 0 (invisible) to 255 (opaque).

<hr>

<a name=/{skin}/param/anchor toc="anchor1, anchor2">
<h2>anchor1, anchor2 parameters (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/pos>pos parameter</a>
<dd><a href=#/{skin}/param/size>size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a> (except <a href=#/{skin}/control/main>Main</a>)
</dl>

<dl><dt><b>Format:</b>
<dd>none
<dd><i>x</i>,<i>y</i>
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>none
</dl>

<p>Anchors the control within the window or pane. If the anchor is not <tt>none</tt>, it is expressed as pecentages of the container's width and height. For example, an anchor of 100,100 means that the X and Y position are tied to the lower right of the container, and 50,0 is tied to the top center.

<p>Setting only <tt>anchor1</tt> will control the position of the control but won't affect its size.

<p>Setting <tt>anchor2</tt> as well will allow you to stretch the control as the container's size changes. You can think of this <tt>anchor1</tt> controlling the top left corner, and <tt>anchor2</tt> the bottom right corner.

<hr>

<a name=/{skin}/param/angle toc="angle1, angle2">
<h2>angle1, angle2 parameters (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/dir>dir parameter</a>
<dd><a href=#/{skin}/param/width>width parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/bar>Bar</a>
</dl>

<dl><dt><b>Format:</b>
<dd>number
</dl>

<dl><dt><b>Default value:</b>
<dd><tt>angle1</tt>: 0
<dd><tt>angle2</tt>: 180
</dl>

<p>The angle of the bar control's arc when its <a class=code href=#/{skin}/param/dir>dir</a> is <tt>clockwise</tt> or <tt>counterclockwise</tt>. Angles are measured clockwise from due north, so 0 is north, 90 is east, and so on.

<tt>angle1</tt> is the beginning of the arc, and <tt>angle2</tt> is the end.

<hr>

<a name=/{skin}/param/auto-format>
<h2 deprecated=508>auto-format parameter (skin)</h2>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/browser>Browser</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false (was once true in old versions)
</dl>

<p class="note deprecated">This parameter only existed to inject compatibility scripts into very old versions of the embedded browser. It is no longer used.

<hr>

<a name=/{skin}/param/background-color>
<h2>background-color parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/text-color>text-color parameter</a>
<dd><a href=#/{skin}/param/tab-background-color>tab-background-color parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd><a href=#/{{appendix}}/html-colors>#rrggbb</a>
<dd>none
</dl>

<p>The control's background color. The exact way this applies depends on the control.

<hr>

<a name=/{skin}/param/bar-color>
<h2>bar-color parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/background-color>background-color parameter</a>
<dd><a href=#/{skin}/param/is-transparent>is-transparent parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/bar>Bar</a>
</dl>

<dl><dt><b>Format:</b>
<dd><a href=#/{{appendix}}/html-colors>#rrggbb</a>
<dd>none
</dl>

<p>The color of the bar or slider.

<hr>

<a name=/{skin}/param/border>
<h2>border parameter (skin)</h2>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Possible values:</b>
<dd>none
<dd>line
<dd>sunken
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>none
</dl>

<p>Border type around the control or window. May not work the same in all controls.

<hr>

<a name=/{skin}/param/button-type>
<h2>button-type parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/group>group parameter</a>
<dd><a href=#/{skin}/param/is-checked>is-checked parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/button>Button</a>
</dl>

<dl><dt><b>Possible values:</b>
<dd>pushbutton: press once
<dd>pushbox: press to toggle
<dd>checkbox: press to toggle, and displays a checkmark if checked
<dd>radio: press to check, and other buttons with the same <tt>group</tt> will be unchecked
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>pushbutton
</dl>

<p>Changes the type of button.

<hr>

<a name=/{skin}/param/can-check>
<h2>can-check parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/group>group parameter</a>
<dd><a href=#/{skin}/param/is-checked>is-checked parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/menu>Menu</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>If true, this menu item is toggled like a checkbox or radio button when clicked.

<hr>

<a name=/{skin}/param/can-close>
<h2>can-close parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/on-close>on-close parameter</a>
<dd><a href=#/{skin}/param/can-resize>can-resize parameter</a>
<dd><a href=#/{skin}/param/titlebar>titlebar parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (window only)
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>true
</dl>

<p>Allow the window to be closed, and also shows a system menu for the window.

<hr>

<a name=/{skin}/param/can-minimize>
<h2>can-minimize parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/can-resize>can-resize parameter</a>
<dd><a href=#/{skin}/param/titlebar>titlebar parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (window only)
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>true
</dl>

<p>Allow the window to be minimized.

<hr>

<a name=/{skin}/param/can-resize>
<h2>can-resize parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/on-size>on-size parameter</a>
<dd><a href=#/{skin}/param/can-minimize>can-minimize parameter</a>
<dd><a href=#/{skin}/param/titlebar>titlebar parameter</a>
<dd><a href=#/{skin}/param/is-fullscreen>is-fullscreen parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (window only)
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>true
</dl>

<p>Allow the window to be resized or maximized.

<p>If <tt>is-fullscreen</tt> is true, <tt>can-resize</tt> is ignored, so this value represents the state of the window when <tt>is-fullscreen</tt> is turned off again.

<hr>

<a name=/{skin}/param/can-scroll>
<h2>can-scroll parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/on-size>on-size parameter</a>
<dd><a href=#/{skin}/param/size>size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (pane only)
</dl>

<dl><dt><b>Possible values:</b>
<dd>none
<dd>horizontal
<dd>vertical
<dd>both
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>none
</dl>

<p>Allow this pane to retain its horizontal and/or vertical size and show scrollbars if necessary, instead of shrinking to fit the container.

<hr>

<a name=/{skin}/param/command>
<h2>command parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/commands>client commands</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/button>Button</a>
<dd><a href=#/{skin}/control/input>Input</a>
<dd><a href=#/{skin}/control/macro>Macro</a>
<dd><a href=#/{skin}/control/menu>Menu</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p><a href=#/{skin}/commands>Command</a> executed when this control is activated.

<p>For the Input control, whatever the user types in follows this command. If your command starts with an exclamation point <tt>!</tt>, everything after the <tt>!</tt> is shown as a default prompt that may be cleared by the user.

<hr>

<a name=/{skin}/param/cell-span>
<h2>cell-span parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/cells>cells parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/grid>Grid</a>
</dl>

<dl><dt><b>Format:</b>
<dd><i>columns</i>,<i>rows</i>
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>1x1
</dl>

<p>The span of the current grid cell; it can be merged with cells to the right and down. If <tt>is-list</tt> is true, this setting is ignored. This setting is only available at runtime.

<hr>

<a name=/{skin}/param/cells>
<h2>cells parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/cell-span>cell-span parameter</a>
<dd><a href=#/{skin}/param/current-cell>current-cell parameter</a>
<dd><a href=#/{skin}/param/is-list>is-list parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/grid>Grid</a>
</dl>

<dl><dt><b>Format:</b>
<dd><i>columns</i>,<i>rows</i>
<dd><i>items</i>
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>0x0
</dl>

<p>The number of columns and rows in the grid. Using -1 for either columns or rows will leave that value unchanged.

<p>If <a class=code href=#/{skin}/param/is-list>is-list</a> is true, this value can be set to a single number.

<hr>

<a name=/{skin}/param/current-cell>
<h2>current-cell parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/cell-span>cell-span parameter</a>
<dd><a href=#/{skin}/param/cells>cells parameter</a>
<dd><a href=#/{skin}/param/is-list>is-list parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/grid>Grid</a>
</dl>

<dl><dt><b>Format:</b>
<dd><i>columns</i>,<i>rows</i>
<dd><i>items</i>
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>0x0
</dl>

<p>The active cell. Any output sent to the grid, that is not sent to a specific cell, will go into this cell.

<p>If <a class=code href=#/{skin}/param/is-list>is-list</a> is true, this value can be set to a single number.

<hr>

<a name=/{skin}/param/current-tab>
<h2>current-tab parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/on-tab>on-tab parameter</a>
<dd><a href=#/{skin}/param/tabs>tabs parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/tab>Tab</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p>The name of the <a href=#/{skin}/control/main>pane</a> in the active/default tab. If set to a pane that is not currently in this tab control, the pane by that name will be added as another tab.

<hr>

<a name=/{skin}/param/dir>
<h2>dir parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/angle>value parameter</a>
<dd><a href=#/{skin}/param/angle>angle1, angle2 parameters</a>
<dd><a href=#/{skin}/param/width>width parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/bar>Bar</a>
</dl>

<dl><dt><b>Possible values:</b>
<dd>north
<dd>south
<dd>east
<dd>west
<dd>clockwise
<dd>counterclockwise
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>east
</dl>

<p>The direction/orientation of the bar. As the <a class=code href=#/{skin}/param/value>value</a> increases the bar will move further in this direction.

<p>Shorthand values like <tt>cw</tt> and <tt>ccw</tt> can be used, or also numerical BYOND directions.

<hr>

<a name=/{skin}/param/drop-zone>
<h2>drop-zone parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/DM/mouse>mouse handling</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd><tt>true</tt> for <a href=#/{skin}/control/grid>Grid</a>, <a href=#/{skin}/control/info>Info</a>, <a href=#/{skin}/control/map>Map</a>
<dd><tt>false</tt> for everything else
</dl>

<p>True if dragged objects may be dropped here. Default is true for Map, Info, and Grid controls, false for others. When in use, this will be the value of the <tt>over_control</tt> argument in <a class=code href=#/client/proc/MouseDrop>MouseDrop()</a> if you drop an atom here.

<p>Grids can also add <tt>drag-cell</tt> and <tt>drop-cell</tt> to mouse proc parameters. The mouse procs' <tt>src_location</tt> and <tt>over_location</tt> arguments are in the form <tt>"[column],[row]"</tt> (or <tt>"[item"]</tt> if <a class=code href=#/{skin}/param/is-list>is-list</a> is true) when dragging to/from a grid cell.

<p>In Info controls, <tt>src_location</tt> and <tt>over_location</tt> in mouse procs will be the name of the statpanel tab.

<hr>

<a name=/{skin}/param/enable-http-images>
<h2>enable-http-images parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/small-icons>small-icons parameter</a>
<dd><a href=#/{skin}/param/style>style parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/grid>Grid</a>
<dd><a href=#/{skin}/control/output>Output</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>Allows images to be pulled from the Web when using the <tt>&lt;img&gt;</tt> tag; otherwise only locally stored images can be shown.

<hr>

<a name=/{skin}/param/flash>
<h2>flash parameter (skin)</h2>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (window only)
</dl>

<dl><dt><b>Format:</b>
<dd>number
</dl>

<dl><dt><b>Default value:</b>
<dd>0
</dl>

<p>Set to a positive number to make the window flash that many times, -1 to flash forever, and 0 to stop flashing.

<hr>

<a name=/{skin}/param/focus>
<h2>focus parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/id>id parameter</a>
<dd><a href=#/proc/winget>winget proc</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>This parameter is true if this control currently has focus.

<p>This is also a special read-only global parameter. Calling <a class=code href=#/proc/winget>winget()</a> with no <tt>id</tt> and <tt>focus</tt> as the parameter will return the <a class=code href=#/{skin}/param/id>id</a> of the currently focused control, if any.

<hr>

<a name=/{skin}/param/font-family>
<h2>font-family parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/font-size>font-size parameter</a>
<dd><a href=#/{skin}/param/font-style>font-style parameter</a>
<dd><a href=#/{skin}/param/tab-font>tab-font-family, tab-font-size, tab-font-style parameters</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p>Leave blank to use the default font. This can be used for CSS-style fallback fonts, e.g. "Arial,Helvetica".

<p>You can include fonts in your resource file, making them available to the client, like so:

<xmp>
var/list/extra_resources = list(\
    'myfont.ttf',
    'myfont_bold.ttf')
</xmp>

<hr>

<a name=/{skin}/param/font-size>
<h2>font-size parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/font-family>font-family parameter</a>
<dd><a href=#/{skin}/param/font-style>font-style parameter</a>
<dd><a href=#/{skin}/param/tab-font>tab-font-family, tab-font-size, tab-font-style parameters</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd>number
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>0
</dl>

<p>Point size of the font, or leave at 0 for the default size.

<p>The <a href=#/{skin}/control/output>Output control</a> behaves differently for legacy reasons, unless <a href=#/{skin}/param/legacy-size>legacy-size</a> is false.

<hr>

<a name=/{skin}/param/font-style>
<h2>font-style parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/font-family>font-family parameter</a>
<dd><a href=#/{skin}/param/font-size>font-size parameter</a>
<dd><a href=#/{skin}/param/tab-font>tab-font-family, tab-font-size, tab-font-style parameters</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Possible values:</b>
<dd>bold
<dd>italic
<dd>underline
<dd>strike
</dl>

<dl><dt><b>Default value:</b>
<dd><i>empty</i>
</dl>

<p>Sets the font style. Any combination of the above values may be used, or none of them. Multiple values may be separated by spaces or commas.

<hr>

<a name=/{skin}/param/group>
<h2>group parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/button-type>button-type parameter</a>
<dd><a href=#/{skin}/param/can-check>can-check parameter</a>
<dd><a href=#/{skin}/param/is-checked>is-checked parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/button>Button</a>
<dd><a href=#/{skin}/control/menu>Menu</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p>Used for "radio" buttons and menu items, where only one of them in the same group may be checked at a time. This value is a text string, or may be left empty.

<p>Buttons in different windows/panes, or menu items in another menu/submenu, are always treated as a different group.

<hr>

<a name=/{skin}/param/highlight-color>
<h2>highlight-color parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/text-color>text-color parameter</a>
<dd><a href=#/{skin}/param/background-color>background-color parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd byondver=507><a href=#/{skin}/control/grid>Grid</a>
<dd><a href=#/{skin}/control/info>Info</a>
</dl>

<dl><dt><b>Format:</b>
<dd><a href=#/{{appendix}}/html-colors>#rrggbb</a>
<dd>none
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>#00ff00
</dl>

<p>The color used to highlight moused-over statpanel items or verbs. In grids, this color is used when hovering over objects or links.

<hr>

<a name=/{skin}/param/icon>
<h2>icon parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/title>title parameter</a>
<dd><a href=#/{skin}/param/titlebar>titlebar parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a>
</dl>

<dl class=codedd><dt><b>Format:</b>
<dd>'<i>file</i>'
</dl>

<dl><dt><b>Default value:</b>
<dd><i>empty</i>
</dl>

<p>Custom icon used for the window. If no icon is specified, the Dream Seeker icon is used by windows by default.

<p>If this control is a pane, its icon will appear on the tab if the pane is inside a tab control. Lack of an icon will mean no icon appears in the tab.

<p>Note: The Windows <tt>.ico</tt> format is not used. Only image formats BYOND can already use are supported.

<hr>

<a name=/{skin}/param/icon-size>
<h2 deprecated=1>icon-size parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/zoom>zoom parameter</a>
<dd><a href=#/{skin}/param/zoom-mode>zoom-mode parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/map>Map</a>
</dl>

<dl><dt><b>Format:</b>
<dd>number
</dl>

<dl><dt><b>Default value:</b>
<dd>0
</dl>

<p>Size, in pixels, of icons on the map. A size of 0 stretches to fit available space.

<p class="note deprecated">This parameter has been deprecated. Use <a class=code href=#/{skin}/param/zoom>zoom</a> instead.

<hr>

<a name=/{skin}/param/id>
<h2>id parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/parent>parent parameter</a>
<dd><a href=#/{skin}/param/type>type parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p>The name of this control. Read-only.

<p>If this is a <a href=#/{skin}/control/main>Main control</a>, the name should always be unique. For others, it is usually still a good idea to use a unique name, but they can be referenced by <i>window</i>.<i>id</i> at runtime.

<p byondver=511>You can use a colon in front of the <a class=code href=#/{skin}/param/type>type</a> to refer to the default control of a certain type, if one exists, e.g. <tt>:map</tt> is the default map.

<hr>

<a name=/{skin}/param/image>
<h2>image parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/image-mode>image-mode parameter</a>
<dd><a href=#/{skin}/param/keep-aspect>keep-aspect parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/button>Button</a>
<dd><a href=#/{skin}/control/label>Label</a>
<dd><a href=#/{skin}/control/main>Main</a>
<dd><a href=#/{skin}/control/output>Output</a>
</dl>

<dl><dt><b>Format:</b>
<dd>'<i>file</i>'
</dl>

<p>A background image to show in this control.

<p>In the Output control this image is always tiled.

<p>Note: Icons displayed in the output control will not show the background image underneath their transparent parts, but will instead show the background color.</p>

<p>For Label and Main, use <a class=code href=#/{skin}/param/image-mode>image-mode</a> to control how the image is displayed.

<hr>

<a name=/{skin}/param/image-mode>
<h2>image-mode parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/image>image parameter</a>
<dd><a href=#/{skin}/param/keep-aspect>keep-aspect parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/label>Label</a>
<dd><a href=#/{skin}/control/main>Main</a>
</dl>

<dl><dt><b>Possible values:</b>
<dd>center
<dd>stretch
<dd>tile
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>center
</dl>

<p>Determines how the background image is displayed.

<hr>

<a name=/{skin}/param/index>
<h2>index parameter (skin)</h2>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/menu>Menu</a>
</dl>

<dl><dt><b>Format:</b>
<dd>number
</dl>

<dl><dt><b>Default value:</b>
<dd>1000
</dl>

<p>Moves the menu item to the <i>N</i>th position among its siblings. 0 or less is no change. Write-only.

<hr>

<a name=/{skin}/param/inner-pos>
<h2 byondver=515>inner-pos parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/pos>pos parameter</a>
<dd><a href=#/{skin}/param/outer-pos>outer-pos parameter</a>
<dd><a href=#/{skin}/param/inner-size>inner-size parameter</a>
<dd><a href=#/{skin}/param/outer-size>outer-size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a>
</dl>

<dl><dt><b>Format:</b>
<dd><i>x</i>,<i>y</i>
</dl>

<p>Read-only.

<p>Reads the position where the window's interior contents begin (i.e., not counting titlebar, statusbar, borders, etc.), relative to its <tt>outer-pos</tt>.

<hr>

<a name=/{skin}/param/inner-size>
<h2 byondver=513>inner-size parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/size>size parameter</a>
<dd><a href=#/{skin}/param/outer-size>outer-size parameter</a>
<dd><a href=#/{skin}/param/inner-pos>inner-pos parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a>
</dl>

<dl><dt><b>Format:</b>
<dd><i>width</i>x<i>height</i>
</dl>

<p>Read-only.

<p>If the control is a window, this refers to its current interior size: i.e., not counting titlebar, statusbar, borders, etc. If it's maximized, this will be the true size of the window interior, as opposed to <tt>size</tt> which is the interior size once this window is no longer maximized.

<p>If this control is a pane and <a class=code href=#/{skin}/param/can-scroll>can-scroll</a> is true, this is the size of the display area not including the scrollbars.

<hr>

<a name=/{skin}/param/is-checked>
<h2>is-checked parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/button-type>button-type parameter</a>
<dd><a href=#/{skin}/param/can-check>can-check parameter</a>
<dd><a href=#/{skin}/param/group>group parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/button>Button</a>
<dd><a href=#/{skin}/control/menu>Menu</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>True if the button or menu item is checked. Menu items can set this even if <a class=code href=#/{skin}/param/can-check>can-check</a> is false.

<hr>

<a name=/{skin}/param/is-default>
<h2>is-default parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/id>id parameter</a>
<dd><a href=#/{skin}/param/parent>parent parameter</a>
<dd><a href=#/{skin}/param/type>type parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>Specifies that this is a default control. This should be true for your main window, and for your primary map, info, output, input, and browser controls.

<p>The default control of a given type can be referenced in <a class=code href=#/proc/winset>winset()</a> and other skin-related procs by the name <tt>":<i>type</i>"</tt>, e.g. <tt>":map"</tt>.

<p>Changing this value at runtime should be avoided, especially for windows. Results may be unpredictable.

<hr>

<a name=/{skin}/param/is-disabled>
<h2>is-disabled parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/is-checked>is-checked parameter</a>
<dd><a href=#/{skin}/param/is-visible>is-visible parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
<dd><a href=#/{skin}/control/macro>Macro</a>
<dd><a href=#/{skin}/control/menu>Menu</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>Disables the control, menu item, or macro.

<hr>

<a name=/{skin}/param/is-flat>
<h2>is-flat parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/button-type>button-type parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/button>Button</a>
</dl>

<dl><dt><b>Format:</b>
<dd class=codedd>true/false
</dl>

<dl><dt><b>Default value:</b>
<dd>false
</dl>

<p>Gives this button a flat appearance instead of pseudo-3D highlights.

<hr>

<a name=/{skin}/param/is-fullscreen>
<h2 byondver=515>is-fullscreen parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/can-resize>can-resize parameter</a>
<dd><a href=#/{skin}/param/titlebar>titlebar parameter</a>
<dd><a href=#/{skin}/param/is-maximized>is-maximized parameter</a>
<dd><a href=#/{skin}/param/is-minimized>is-minimized parameter</a>
<dd><a href=#/{skin}/param/size>size parameter</a>
<dd><a href=#/{skin}/param/outer-size>outer-size parameter</a>
<dd><a href=#/{skin}/param/screen-pos>screen-pos parameter</a>
<dd><a href=#/{skin}/param/screen-size>screen-size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (window only)
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl><dt><b>Default value:</b>
<dd class=codedd>false
</dl>

<p>True if the window should be in fullscreen mode. This suppresses
<tt>can-resize</tt>, <tt>titlebar</tt>, <tt>is-maximized</tt>, and
<tt>is-minimized</tt>. They will continue to return the values that would apply
if fullscreen mode were turned off.

<hr>

<a name=/{skin}/param/is-list>
<h2>is-list parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/cells>cells parameter</a>
<dd><a href=#/{skin}/param/current-cell>current-cell parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/grid>Grid</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl><dt><b>Default value:</b>
<dd class=codedd>false
</dl>

<p>True if the grid is used for a flexible list of items; the number of columns and rows may change to fit them.

<hr>

<a name=/{skin}/param/is-maximized>
<h2>is-maximized parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/can-resize>can-resize parameter</a>
<dd><a href=#/{skin}/param/is-minimized>is-minimized parameter</a>
<dd><a href=#/{skin}/param/is-fullscreen>is-fullscreen parameter</a>
<dd><a href=#/{skin}/param/size>size parameter</a>
<dd><a href=#/{skin}/param/outer-size>outer-size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (window only)
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl><dt><b>Default value:</b>
<dd class=codedd>false
</dl>

<p>True if the window is maximized.

<p>If <tt>is-fullscreen</tt> is true, this value represents the state of the window when <tt>is-fullscreen</tt> is turned off again.

<hr>

<a name=/{skin}/param/is-minimized>
<h2>is-minimized parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/can-resize>can-resize parameter</a>
<dd><a href=#/{skin}/param/is-maximized>is-maximized parameter</a>
<dd><a href=#/{skin}/param/is-fullscreen>is-fullscreen parameter</a>
<dd><a href=#/{skin}/param/size>size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (window only)
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl><dt><b>Default value:</b>
<dd class=codedd>false
</dl>

<p>True if the window is minimized.

<p>If <tt>is-fullscreen</tt> is true, this value represents the state of the window when <tt>is-fullscreen</tt> is turned off again.

<hr>

<a name=/{skin}/param/is-pane>
<h2>is-pane parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/id>id parameter</a>
<dd><a href=#/{skin}/control/child>Child control</a>
<dd><a href=#/{skin}/control/tab>Tab control</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl><dt><b>Default value:</b>
<dd class=codedd>false
</dl>

<p>True if this is a pane that will be used in other container controls, instead of an independent window. Read-only.

<hr>

<a name=/{skin}/param/is-password>
<h2>is-password parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/command>command parameter</a>
<dd><a href=#/{skin}/param/multi-line>multi-line parameter</a>
<dd><a href=#/{skin}/param/no-command>no-command parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/input>Input</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl><dt><b>Default value:</b>
<dd class=codedd>false
</dl>

<p>Hide text with asterisks. Copy to clipboard is not available in this mode, but the <a class=code href=#/{skin}/param/text>text</a> parameter can still read the control's contents.

<p class=security>Note: For obvious reasons, you should never use the same password in a game that you would use anywhere else.

<hr>

<a name=/{skin}/param/is-slider>
<h2>is-slider parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/value>value parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/bar>Bar</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl><dt><b>Default value:</b>
<dd class=codedd>false
</dl>

<p>Make this an adjustable slider capable of being changed by the user, instead of a progress bar.

<hr>

<a name=/{skin}/param/is-transparent>
<h2>is-transparent parameter (skin)</h2>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>Make this control transparent.

<p>Transparency support is extremely limited. Only some controls can actually use it, and only when on top of certain other controls.

<p>Bars and labels handle transparency reasonably well, when not on top of other controls (or only on top of other conrols of these types).

<hr>

<a name=/{skin}/param/is-vert>
<h2>is-vert parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/left>left parameter</a>
<dd><a href=#/{skin}/param/right>right parameter</a>
<dd><a href=#/{skin}/param/show-splitter>show-splitter parameter</a>
<dd><a href=#/{skin}/param/splitter>splitter parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/child>Child</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>The splitter between the two panes in this control is vertical.

<hr>

<a name=/{skin}/param/is-visible>
<h2>is-visible parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/is-disabled>is-disabled parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>true
</dl>

<p>True if this control can be seen. The main window should usually be made visible.

<hr>

<a name=/{skin}/param/keep-aspect>
<h2>keep-aspect parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/image>image parameter</a>
<dd><a href=#/{skin}/param/image-mode>image-mode parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd byondver=507><a href=#/{skin}/control/label>Label</a>
<dd><a href=#/{skin}/control/main>Main</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>If stretching a background image, preserve its aspect ratio.

<hr>

<a name=/{skin}/param/left>
<h2>left, top parameters (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/right>right parameter</a>
<dd><a href=#/{skin}/param/is-vert>is-vert parameter</a>
<dd><a href=#/{skin}/param/show-splitter>show-splitter parameter</a>
<dd><a href=#/{skin}/param/splitter>splitter parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/child>Child</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
<dd>none
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>none
</dl>

<p>The <a class=code href=#/{skin}/param/id>id</a> of the left/top pane in this control. The parameter names <tt>left</tt> and <tt>top</tt> can be used interchangeably.

<hr>

<a name=/{skin}/param/legacy-size>
<h2 byondver=512>legacy-size parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/font-size>font-size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/output>Output</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>true
</dl>

<p>When true, font sizes are scaled slightly larger for readability, which is legacy (and default) BYOND behavior. Set to false for exact font sizing.

<hr>

<a name=/{skin}/param/letterbox>
<h2 byondver=500>letterbox parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/view-size>view-size parameter</a>
<dd><a href=#/{skin}/param/zoom>zoom parameter</a>
<dd><a href=#/{skin}/param/zoom-mode>zoom-mode parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/map>Map</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>true
</dl>

<p>If map auto-scales its icons (<a class=code href=#/{skin}/param/zoom>zoom</a> is 0), make sure the entire map fits, and fill excess space with the background color.

<p>If <tt>letterbox</tt> is not enabled, auto-zoom will fill all available space, and any excess will be cut off.

<hr>

<a name=/{skin}/param/line-color>
<h2>line-color parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/background-color>background-color parameter</a>
<dd><a href=#/{skin}/param/show-lines>show-lines parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/grid>Grid</a>
</dl>

<dl><dt><b>Format:</b>
<dd><a href=#/{{appendix}}/html-colors>#rrggbb</a>
<dd>none
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>#c0c0c0
</dl>

<p>The color of grid lines.

<hr>

<a name=/{skin}/param/link-color>
<h2>link-color parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/text-color>text-color parameter</a>
<dd><a href=#/{skin}/param/visited-color>visited-color parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/grid>Grid</a>
<dd><a href=#/{skin}/control/output>Output</a>
</dl>

<dl><dt><b>Format:</b>
<dd><a href=#/{{appendix}}/html-colors>#rrggbb</a>
<dd>none
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>#0000ff
</dl>

<p>The color used for links. In some controls <a href=#/{skin}/param/visited-color>visited links</a> may have a different color.

<hr>

<a name=/{skin}/param/lock>
<h2>lock parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/left>left parameter</a>
<dd><a href=#/{skin}/param/right>right parameter</a>
<dd><a href=#/{skin}/param/is-vert>is-vert parameter</a>
<dd><a href=#/{skin}/param/show-splitter>show-splitter parameter</a>
<dd><a href=#/{skin}/param/splitter>splitter parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/child>Child</a>
</dl>

<dl><dt><b>Possible values:</b>
<dd>left
<dd>right
<dd>none
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>none
</dl>

<p>Allows one pane to "lock" the splitter so if this Child control is resized, the splitter will stay put on that side.

<hr>

<a name=/{skin}/param/macro>
<h2>macro parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/menu>Keyboard/gamepad macros</a>
<dd><a href=#/{skin}/param/menu>menu parameter</a>
<dd><a href=#/{skin}/param/id>id parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (window only)
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p>The <a class=code href=#/{skin}/param/id>id</a> of the macro set this window will use, if any, when it's active.

<hr>

<a name=/{skin}/param/map-to>
<h2 byondver=511>map-to parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/macros>macros (skin)</a>
<dd><a href=#/{skin}/param/command>command parameter</a>
<dd><a href=#/{skin}/param/id>id parameter</a>
<dd><a href=#/{skin}/param/name>name parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/macro>Macro</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p>The <a href=#/{skin}/macros>macro name</a> (e.g., "SOUTH") of a key combo, Dpad, mouse button, etc. that this macro maps to.

<hr>

<a name=/{skin}/param/max-lines>
<h2>max-lines parameter (skin)</h2>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/output>Output</a>
</dl>

<dl><dt><b>Format:</b>
<dd>number
</dl>

<dl><dt><b>Default value:</b>
<dd>1000
</dl>

<p>Maximum number of lines before the control drops old text to make room for more. 0 is no limit.

<p>An overflow of 5% is allowed, to reduce flicker.

<hr>

<a name=/{skin}/param/menu>
<h2>menu parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/macro>macro parameter</a>
<dd><a href=#/{skin}/param/id>id parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (window only)
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p>The <a class=code href=#/{skin}/param/id>id</a> of the menu this window will use, if any, when it's active.

<hr>

<a name=/{skin}/param/multi-line>
<h2>multi-line parameter (skin)</h2>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/info>Info</a>
<dd><a href=#/{skin}/control/input>Input</a>
<dd><a href=#/{skin}/control/tab>Tab</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl><dt><b>Default value:</b>
<dd><tt>false</tt>: Input control
<dd><tt>true</tt>: Info and Tab controls
</dl>

<p>Input control: Create a multi-line input control. Read-only for this control.

<p>Info and Tab controls: Show tabs in multiple rows if there are too many to fit in a single row.

<hr>

<a name=/{skin}/param/name>
<h2>name parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/macros>macros (skin)</a>
<dd><a href=#/{skin}/param/id>id parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/macro>Macro</a>
<dd><a href=#/{skin}/control/menu>Menu</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p>Macro control: The key/gamepad combination such as <tt>R+REP</tt>, <tt>CTRL+Northwest</tt>, <tt>GamepadLeft</tt>.

<p>Menu control: This is the menu item label. A tab character can be used between the name and a keyboard shortcut, like "Help\tF1". (Keyboard shortcuts must be implemented as macros in order to work. This is just a label.) A blank name shows just a separator.

<hr>

<a name=/{skin}/param/no-command>
<h2>no-command parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/command>command parameter</a>
<dd><a href=#/{skin}/param/is-password>is-password parameter</a>
<dd><a href=#/{skin}/param/multi-line>multi-line parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/input>Input</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>True if this input control is for typing only; hitting Enter will not run a command.

<hr>

<a name=/{skin}/param/on-blur>
<h2>on-blur parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/focus>focus parameter</a>
<dd><a href=#/{skin}/param/on-focus>on-focus parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/input>Input</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p><a href=#/{skin}/commands>Command</a> executed when the control loses focus.

<hr>

<a name=/{skin}/param/on-close>
<h2>on-close parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/can-close>can-close parameter</a>
<dd><a href=#/{skin}/param/on-size>on-size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a> (window only)
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p><a href=#/{skin}/commands>Command</a> executed when the window is closed.

<hr>

<a name=/{skin}/param/on-change>
<h2>on-change parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/value>value parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/bar>Bar</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p><a href=#/{skin}/commands>Command</a> executed when the <a class=code href=#/{skin}/param/value>value</a> of the bar/slider is changed. If you drag the slider around, the command will not run until you let go.

<p>If you include <tt>[[*]]</tt> in the command, it will be replaced by the control's new <tt>value</tt>.  (See "Embedded Winget" in <a href=#/{skin}/commands>client commands</a> for more details on the <tt>[[...]]</tt> format.)

<hr>

<a name=/{skin}/param/on-focus>
<h2>on-focus parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/focus>focus parameter</a>
<dd><a href=#/{skin}/param/on-blur>on-blur parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/input>Input</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p><a href=#/{skin}/commands>Command</a> executed when the control gains focus.

<hr>

<a name=/{skin}/param/on-hide>
<h2>on-hide parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/on-show>on-show parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/browser>Browser</a>
<dd><a href=#/{skin}/control/info>Info</a>
<dd><a href=#/{skin}/control/map>Map</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p><a href=#/{skin}/commands>Command</a>executed when this control is hidden by the game. Must be the default control for the game to show/hide it.

<p>Currently not editable in Dream Maker.

<hr>

<a name=/{skin}/param/on-show>
<h2>on-show parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/on-hide>on-hide parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/browser>Browser</a>
<dd><a href=#/{skin}/control/info>Info</a>
<dd><a href=#/{skin}/control/map>Map</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p><a href=#/{skin}/commands>Command</a> executed when this control is shown by the game. Must be the default control for the game to show/hide it.

<p>Currently not editable in Dream Maker.

<hr>

<a name=/{skin}/param/on-size>
<h2 byondver=482>on-size parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/size>size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p><a href=#/{skin}/commands>Command</a> executed when this control is resized. If you are dragging a window edge or splitter, the command won't run until you finish.

<p>No command will be sent in response to size or splitter changes made by <a class=code href=#/proc/winset>winset()</a>.

<p>If you include <tt>[[*]]</tt> in the command, it will be replaced by the control's new size. Likewise, <tt>[[width]]</tt> will be replaced with the width and <tt>[[height]]</tt> with the height. (See "Embedded Winget" in <a href=#/{skin}/commands>client commands</a> for more details on the <tt>[[...]]</tt> format.)

<hr>

<a name=/{skin}/param/on-status>
<h2>on-status parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/statusbar>statusbar parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p><a href=#/{skin}/commands>Command</a> executed when the text that would go in the statusbar is changed. This applies even if this control is a pane and not a window, or is a window without a statusbar. It applies to all panes and windows that directly or indirectly contain whatever control generated the statusbar text (e.g., a map).

<p>If you include <tt>[[*]]</tt> in the command, it will be replaced by the new text. (See "Embedded Winget" in <a href=#/{skin}/commands>client commands</a> for more details on the <tt>[[...]]</tt> format.)

<p><tt>[[from]]</tt> can be used to reference the control (if any) that generated the next text. You can also use expressions like <tt>[[from.type]]</tt>, <tt>[[from.parent.pos.x]]</tt>, etc.

<hr>

<a name=/{skin}/param/on-tab>
<h2>on-tab parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/current-tab>current-tab parameter</a>
<dd><a href=#/{skin}/param/tabs>tabs parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/info>Info</a>
<dd><a href=#/{skin}/control/tab>Tab</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p><a href=#/{skin}/commands>Command</a> executed when the current tab is changed.

<p>If you include <tt>[[*]]</tt> in the command, it will be replaced by the new tab's <a class=code href=#/{skin}/param/id>id</a>. (See "Embedded Winget" in <a href=#/{skin}/commands>client commands</a> for more details on the <tt>[[...]]</tt> format.)

<hr>

<a name=/{skin}/param/outer-pos>
<h2 byondver=515>outer-pos parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/pos>pos parameter</a>
<dd><a href=#/{skin}/param/outer-size>outer-size parameter</a>
<dd><a href=#/{skin}/param/inner-pos>inner-pos parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a>
</dl>

<dl><dt><b>Format:</b>
<dd><i>x</i>,<i>y</i>
</dl>

<p>Read-only.

<p>Reads the control's current exterior position <i>including</i> titlebar, statusbar, borders, etc. If the window is not minimized or maximized, this is identical to <tt>pos</tt>.

<hr>

<a name=/{skin}/param/outer-size>
<h2 byondver=513>outer-size parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/size>size parameter</a>
<dd><a href=#/{skin}/param/inner-size>inner-size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a>
</dl>

<dl><dt><b>Format:</b>
<dd><i>width</i>x<i>height</i>
</dl>

<p>Read-only.

<p>If the control is a window, this refers to its current exterior size <i>including</i> titlebar, statusbar, borders, etc. If the window is maximized, this is the maximized size.

<p>If this control is a pane and <a class=code href=#/{skin}/param/can-scroll>can-scroll</a> is true, this is the size of the display area including the scrollbars.

<hr>

<a name=/{skin}/param/parent>
<h2>parent parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/id>id parameter</a>
<dd><a href=#/{skin}/param/type>type parameter</a>
<dd><a href=#/{skin}/param/name>name parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
<dd><a href=#/{skin}/control/macro>Macro</a>
<dd><a href=#/{skin}/control/menu>Menu</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<p>The <a class=code href=#/{skin}/param/id>id</a> of this control's parent. Write-only, used when creating a new control at runtime or deleting a control that was created this way.

<hr>

<a name=/{skin}/param/pos>
<h2>pos parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/anchor>anchor1, anchor2 parameters</a>
<dd><a href=#/{skin}/param/size>size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd><i>x</i>,<i>y</i>
<dd>none
</dl>

<dl><dt><b>Default value:</b>
<dd><i>x</i>,<i>y</i>
<dd>none
</dl>

<p>Position of this control's upper left corner, relative to its container. (Not applicable to panes.)

<hr>

<a name=/{skin}/param/prefix-color>
<h2>prefix-color parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/text-color>text-color parameter</a>
<dd><a href=#/{skin}/param/suffix-color>suffix-color parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/info>Info</a>
</dl>

<dl><dt><b>Format:</b>
<dd><a href=#/{{appendix}}/html-colors>#rrggbb</a>
<dd>none
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>none
</dl>

<p>The color used for the prefix/header column of statpanel displays. No color means the default <a class=code href=#/{skin}/param/text-color>text-color</a> will be used.

<p>In BYOND 3.0, this color was red.

<hr>

<a name=/{skin}/param/right>
<h2>right, bottom parameters (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/left>left parameter</a>
<dd><a href=#/{skin}/param/is-vert>is-vert parameter</a>
<dd><a href=#/{skin}/param/show-splitter>show-splitter parameter</a>
<dd><a href=#/{skin}/param/splitter>splitter parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/child>Child</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
<dd>none
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>none
</dl>

<p>The <a class=code href=#/{skin}/param/id>id</a> of the right/bottom pane in this control. The parameter names <tt>top</tt> and <tt>bottom</tt> can be used interchangeably.

<hr>

<a name=/{skin}/param/right-click>
<h2>right-click parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/DM/mose>mouse handling</a>
<dd><a href=#/set/popup_menu>popup_menu setting (verb)</a>
<dd><a href=#/{skin}/param/drop-zone>drop-zone parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd>true/false
</dl>

<dl class=codedd><dt><b>Default value:</b>
<dd>false
</dl>

<p>True if this control should allow right-clicks to behave like any other click instead of opening up popup menus or similar special behavior.

<hr>

<a name=/{skin}/param/saved-params>
<h2>saved-params parameter (skin)</h2>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd>string
</dl>

<dl><dt><b>Default value:</b>
<dd><i>varies</i>
</dl>

<p>A semicolon-separated list of parameters that get saved with this control. This is often used for things a user might set, like zoom level for a map.

<p>Currently not editable in Dream Maker.

<hr>

<a name=/{skin}/param/screen-pos>
<h2 byondver=515>screen-pos parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/pos>pos parameter</a>
<dd><a href=#/{skin}/param/outer-pos>outer-pos parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a>
</dl>

<dl><dt><b>Format:</b>
<dd><i>x</i>,<i>y</i>
</dl>

<p>Read-only.

<p>For windows, this is the upper left corner of the nearest monitor's area.

<hr>

<a name=/{skin}/param/screen-size>
<h2 byondver=515>screen-size parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/size>size parameter</a>
<dd><a href=#/{skin}/param/outer-size>outer-size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control/main>Main</a>
</dl>

<dl><dt><b>Format:</b>
<dd><i>width</i>x<i>height</i>
</dl>

<p>Read-only.

<p>For windows, this is the size of the nearest monitor's area.

<hr>

<a name=/{skin}/param/size>
<h2>size parameter (skin)</h2>

<dl><dt><b>See also:</b>
<dd><a href=#/{skin}/param/pos>pos parameter</a>
<dd><a href=#/{skin}/param/anchor>anchor1, anchor2 parameters</a>
<dd><a href=#/{skin}/param/on-size>on-size parameter</a>
<dd><a href=#/{skin}/param/inner-size>inner-size parameter</a>
<dd><a href=#/{skin}/param/outer-size>outer-size parameter</a>
</dl>

<dl><dt><b>Applies to:</b>
<dd><a href=#/{skin}/control>All</a>
</dl>

<dl><dt><b>Format:</b>
<dd><i>width</i>x<i>height</i>
</dl>

<p>The size of this control.

<p>Setting 0 for width or height uses up any available space right/downward.

<p>If the control is a window, this refers to its <i>interior size when not maximized or minimized</i>. That is, it does not count borders, titlebar, menu, or statusbar, and if the window is minimized/maximized, this refers to the window's normal size when it is restored. See the <a class=code href=#/{skin}/param/inner-size>inner-size</a> and <a class=code href=#/{skin}/param/outer-size>outer-size</a> params for comparison.

<p>If this control is a pane and <a class=code href=#/{skin}/param/can-scroll>can-scroll</a> is true, <tt>size</tt> refers to the total scrollable size of the pane, NOT the smaller size displayed. In this case, <tt>outer-size</tt> and <tt>inner-size</tt> refer to the display area with and without scrollbars, respectively.

<hr>